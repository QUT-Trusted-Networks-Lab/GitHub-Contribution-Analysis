Hash,Commit Message,Author Name,Author Email,Committor Name,Committor Email,Author Date,Author Timezone,Committor Date,Committor Timezone,in_main_branch,merge,modified_files,parents,deletions,insertions,lines,files,dmm_unit_size,dmm_unit_complexity,dmm_unit_interfacing
478a29ead42878cc0afeb8165a98179c923bba8a,Initial empty repository,Moreno Ambrosin,ambrosin@google.com,Gerrit Code Review,noreply-gerritcodereview@google.com,2022-06-10 07:46:07+00:00,0,2022-06-10 07:46:07+00:00,0,True,False,[],[],0,0,0,0,,,
9c3f627532cc0a322f0992c0390743de5715be79,"Internal change.

COPYBARA_INTEGRATE_REVIEW=gerrit rpc://ise-crypto-internal/cloudcryptosdk 29421 Patch Set 1 I186a240c38362c0969b4d1da669f7cd9fd114176
PiperOrigin-RevId: 455067376
Change-Id: I7a25b9d61fa80be42f5ce8222d954015de6a6e44",Moreno Ambrosin,ambrosin@google.com,Moreno Ambrosin,ambrosin@google.com,2022-06-15 08:51:25+00:00,0,2022-06-15 09:05:00+00:00,0,True,False,"['.bazelversion', 'BUILD.bazel', 'MANIFEST.in', 'README.md', 'VERSION', 'WORKSPACE', 'run_tests.sh', 'run_tests.sh', 'copy_credentials.sh', 'install_protoc.sh', 'install_python3.sh', 'install_tink_via_pip.sh', 'replace_http_archive_with_local_repository.py', 'run_bazel_tests.sh', 'BUILD.bazel', '__init__.py', 'aes_cmac.proto', 'aes_cmac_prf.proto', 'aes_ctr.proto', 'aes_ctr_hmac_aead.proto', 'aes_ctr_hmac_streaming.proto', 'aes_eax.proto', 'aes_gcm.proto', 'aes_gcm_hkdf_streaming.proto', 'aes_gcm_siv.proto', 'aes_siv.proto', 'cached_dek_aead.proto', 'cached_dek_envelope.proto', 'chacha20_poly1305.proto', 'common.proto', 'config.proto', 'ecdsa.proto', 'ecies_aead_hkdf.proto', 'ed25519.proto', 'empty.proto', 'hkdf_prf.proto', 'hmac.proto', 'hmac_prf.proto', 'hpke.proto', 'jwt_ecdsa.proto', 'jwt_hmac.proto', 'jwt_rsa_ssa_pkcs1.proto', 'jwt_rsa_ssa_pss.proto', 'kms_aead.proto', 'kms_envelope.proto', 'prf_based_deriver.proto', 'rsa_ssa_pkcs1.proto', 'rsa_ssa_pss.proto', 'test_proto.proto', 'tink.proto', 'xchacha20_poly1305.proto', 'requirements.txt', 'setup.py', 'BUILD.bazel', 'README.md', 'aws_credentials_cc.txt', 'aws_key_arn.txt', 'bad_access_keys_aws.csv', 'bad_aws_credentials_cc.txt', 'bad_aws_key_arn.txt', 'bad_credentials_aws.csv', 'bad_gcp_credentials.json', 'bad_gcp_key_name.txt', 'credential.json', 'credentials_aws.cred', 'credentials_aws.csv', 'credentials_aws.ini', 'ecies_private_keyset.bin', 'ecies_private_keyset2.bin', 'ecies_public_keyset.bin', 'ecies_public_keyset2.bin', 'gcp_key_name.txt', 'hpke_boringssl.json', 'BUILD.bazel', '__init__.py', '_keyset_handle.py', '_keyset_handle_test.py', '_keyset_reader.py', '_keyset_reader_test.py', '_keyset_writer.py', '_keyset_writer_test.py', 'BUILD.bazel', '__init__.py', '_aead.py', '_aead_key_manager.py', '_aead_key_manager_test.py', '_aead_key_templates.py', '_aead_key_templates_test.py', '_aead_wrapper.py', '_aead_wrapper_test.py', '_kms_envelope_aead.py', '_kms_envelope_aead_test.py', 'BUILD.bazel', 'cc_hpke_config.cc', 'cc_hpke_config.h', 'cc_jwt_config.cc', 'cc_jwt_config.h', 'cc_key_manager.h', 'cc_streaming_aead_wrappers.cc', 'cc_streaming_aead_wrappers.h', 'cc_streaming_aead_wrappers_test.cc', 'cc_tink_config.cc', 'cc_tink_config.h', 'input_stream_adapter.cc', 'input_stream_adapter.h', 'input_stream_adapter_test.cc', 'output_stream_adapter.cc', 'output_stream_adapter.h', 'output_stream_adapter_test.cc', 'BUILD.bazel', 'aead.cc', 'aead.h', 'cc_aws_kms_client.cc', 'cc_aws_kms_client.h', 'cc_fake_kms_client_testonly.cc', 'cc_fake_kms_client_testonly.h', 'cc_gcp_kms_client.cc', 'cc_gcp_kms_client.h', 'cc_hpke_config.cc', 'cc_hpke_config.h', 'cc_jwt_config.cc', 'cc_jwt_config.h', 'cc_key_manager.cc', 'cc_key_manager.h', 'cc_key_manager_test.py', 'cc_streaming_aead_wrappers.cc', 'cc_streaming_aead_wrappers.h', 'cc_tink_config.cc', 'cc_tink_config.h', 'cc_tink_config_test.py', 'deterministic_aead.cc', 'deterministic_aead.h', 'hybrid_decrypt.cc', 'hybrid_decrypt.h', 'hybrid_encrypt.cc', 'hybrid_encrypt.h', 'import_helper.cc', 'import_helper.h', 'input_stream_adapter.cc', 'input_stream_adapter.h', 'mac.cc', 'mac.h', 'output_stream_adapter.cc', 'output_stream_adapter.h', 'prf.cc', 'prf.h', 'public_key_sign.cc', 'public_key_sign.h', 'public_key_verify.cc', 'public_key_verify.h', 'python_file_object_adapter.cc', 'python_file_object_adapter.h', 'streaming_aead.cc', 'streaming_aead.h', 'tink_bindings.cc', 'tink_exception.h', 'python_file_object_adapter.h', 'python_input_stream.cc', 'python_input_stream.h', 'python_input_stream_test.cc', 'python_output_stream.cc', 'python_output_stream.h', 'python_output_stream_test.cc', 'test_util.h', 'cleartext_keyset_handle.py', 'cleartext_keyset_handle_test.py', 'BUILD.bazel', '__init__.py', '_crypto_format.py', '_crypto_format_test.py', '_key_manager.py', '_primitive_set.py', '_primitive_set_test.py', '_primitive_wrapper.py', '_registry.py', '_registry_test.py', '_tink_error.py', 'BUILD.bazel', '__init__.py', '_deterministic_aead.py', '_deterministic_aead_key_manager.py', '_deterministic_aead_key_manager_test.py', '_deterministic_aead_key_templates.py', '_deterministic_aead_key_templates_test.py', '_deterministic_aead_wrapper.py', '_deterministic_aead_wrapper_test.py', 'BUILD.bazel', '__init__.py', '_hybrid_decrypt.py', '_hybrid_encrypt.py', '_hybrid_key_manager.py', '_hybrid_key_manager_test.py', '_hybrid_key_templates.py', '_hybrid_key_templates_test.py', '_hybrid_wrapper.py', '_hybrid_wrapper_test.py', '__init__.py', 'BUILD.bazel', '__init__.py', '_aws_kms_aead_test.py', '_aws_kms_client.py', '_aws_kms_client_test.py', 'BUILD.bazel', '__init__.py', '_gcp_kms_aead_test.py', '_gcp_kms_client.py', '_gcp_kms_client_test.py', 'BUILD.bazel', '__init__.py', 'big_integer_util.py', 'big_integer_util_test.py', 'BUILD.bazel', '__init__.py', '_json_util.py', '_json_util_test.py', '_jwk_set_converter.py', '_jwk_set_converter_test.py', '_jwt_error.py', '_jwt_format.py', '_jwt_format_test.py', '_jwt_hmac_key_manager.py', '_jwt_hmac_key_manager_test.py', '_jwt_key_templates.py', '_jwt_key_templates_test.py', '_jwt_mac.py', '_jwt_mac_wrapper.py', '_jwt_mac_wrapper_test.py', '_jwt_public_key_sign.py', '_jwt_public_key_verify.py', '_jwt_signature_key_manager.py', '_jwt_signature_key_manager_test.py', '_jwt_signature_wrappers.py', '_jwt_signature_wrappers_test.py', '_jwt_validator.py', '_jwt_validator_test.py', '_raw_jwt.py', '_raw_jwt_test.py', '_verified_jwt.py', '_verified_jwt_test.py', 'BUILD.bazel', '__init__.py', '_mac.py', '_mac_key_manager.py', '_mac_key_manager_test.py', '_mac_key_templates.py', '_mac_key_templates_test.py', '_mac_wrapper.py', '_mac_wrapper_test.py', 'BUILD.bazel', '__init__.py', '_prf_key_manager.py', '_prf_key_manager_test.py', '_prf_key_templates.py', '_prf_set.py', '_prf_set_wrapper.py', '_prf_set_wrapper_test.py', 'secret_key_access.py', 'secret_key_access_test.py', 'BUILD.bazel', '__init__.py', '_public_key_sign.py', '_public_key_verify.py', '_signature_key_manager.py', '_signature_key_manager_test.py', '_signature_key_templates.py', '_signature_wrapper.py', '_signature_wrapper_test.py', 'BUILD.bazel', '__init__.py', '_decrypting_stream.py', '_decrypting_stream_test.py', '_encrypting_stream.py', '_encrypting_stream_test.py', '_file_object_adapter.py', '_file_object_adapter_test.py', '_pybind11_python_file_object_adapter_test.py', '_raw_streaming_aead.py', '_rewindable_input_stream.py', '_rewindable_input_stream_test.py', '_streaming_aead.py', '_streaming_aead_key_manager.py', '_streaming_aead_key_manager_test.py', '_streaming_aead_key_templates.py', '_streaming_aead_key_templates_test.py', '_streaming_aead_test.py', '_streaming_aead_wrapper.py', '_streaming_aead_wrapper_test.py', 'BUILD.bazel', '__init__.py', 'bytes_io.py', 'bytes_io_test.py', 'fake_kms.py', 'fake_kms_test.py', 'helper.py', 'helper_test.py', 'keyset_builder.py', 'keyset_builder_test.py', 'tink_config.py', 'tink_config_test.py', 'tink_py_deps.bzl', 'tink_py_deps_init.bzl', 'BUILD.bazel', 'BUILD.bazel', 'tink_python_rules.bzl', 'README.md', 'build_linux_binary_wheels.sh', 'create_release.sh', 'test_linux_binary_wheels.sh']",['478a29ead42878cc0afeb8165a98179c923bba8a'],0,27766,27766,308,0.5918969680708345,0.9287183615061264,0.84357392004293
9fb42e55e6d0c15c5fa86d4f9dc9276a5fc7256d,"Add testdata path in testing/helper.py

This is to cover the case where TINK_SRC_PATH/testdata is present and should be used as testdata in non-bazel runs.

PiperOrigin-RevId: 456038760
Change-Id: I7c43c327459728e366002dc978c9966294d7c817",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-20 04:01:00-07:00,25200,2022-06-20 04:01:48-07:00,25200,True,False,['helper.py'],['9c3f627532cc0a322f0992c0390743de5715be79'],1,3,4,1,0.0,1.0,1.0
99631776db6527d8a86fe277af3c66dd3d51908d,"Some fixes to tink-py kokoro test scripts and setup.py

 - Add missing call to `copy_credentials.sh` to `kokoro/gcp_ubuntu/bazel/run_tests.sh`.
 - Add missing `export TINK_SRC_PATH` to `kokoro/gcp_ubuntu/pip/run_tests.sh`.
 - Tentatively remove creating a release from `kokoro/gcp_ubuntu/pip/run_tests.sh`.
 - Use `typing.List` in `setup.py`.
 - Minor fixes to the two Kokoro scripts.

PiperOrigin-RevId: 456052472
Change-Id: Ieeeb5ba0844be1691bb7f5f52292d0b29836eafd",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-20 05:04:21-07:00,25200,2022-06-20 05:04:55-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'setup.py']",['9fb42e55e6d0c15c5fa86d4f9dc9276a5fc7256d'],23,29,52,3,,,
8d093427f48db82d65949f92cc80b1a81039f5fb,"Internal change.

PiperOrigin-RevId: 456054783
Change-Id: I12b9350b852309e82b67d23ab07127623973f395",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-20 05:21:43-07:00,25200,2022-06-21 06:40:46-07:00,25200,True,False,"['BUILD.bazel', '_keyset_handle.py', '_keyset_handle_test.py', '_keyset_reader.py', '_keyset_reader_test.py', '_keyset_writer.py', '_keyset_writer_test.py', 'BUILD.bazel', '_aead_key_manager_test.py', '_aead_key_templates.py', '_aead_key_templates_test.py', '_kms_envelope_aead.py', '_kms_envelope_aead_test.py', 'BUILD.bazel', 'cc_key_manager_test.py', 'cleartext_keyset_handle.py', 'BUILD.bazel', '__init__.py', '_crypto_format.py', '_crypto_format_test.py', '_key_manager.py', '_primitive_set.py', '_primitive_set_test.py', '_registry.py', '_registry_test.py', 'BUILD.bazel', '_deterministic_aead_key_manager_test.py', '_deterministic_aead_key_templates.py', '_deterministic_aead_key_templates_test.py', 'BUILD.bazel', '_hybrid_key_manager_test.py', '_hybrid_key_templates.py', '_hybrid_key_templates_test.py', 'BUILD.bazel', '_jwk_set_converter.py', '_jwk_set_converter_test.py', '_jwt_format.py', '_jwt_format_test.py', '_jwt_hmac_key_manager.py', '_jwt_hmac_key_manager_test.py', '_jwt_key_templates.py', '_jwt_mac_wrapper.py', '_jwt_mac_wrapper_test.py', '_jwt_signature_key_manager.py', '_jwt_signature_key_manager_test.py', '_jwt_signature_wrappers.py', '_jwt_signature_wrappers_test.py', 'BUILD.bazel', '_mac_key_manager_test.py', '_mac_key_templates.py', '_mac_key_templates_test.py', '_mac_wrapper.py', 'BUILD.bazel', '_prf_key_manager_test.py', '_prf_key_templates.py', 'BUILD.bazel', '__init__.py', 'aes_cmac.proto', 'aes_cmac_prf.proto', 'aes_ctr.proto', 'aes_ctr_hmac_aead.proto', 'aes_ctr_hmac_streaming.proto', 'aes_eax.proto', 'aes_gcm.proto', 'aes_gcm_hkdf_streaming.proto', 'aes_gcm_siv.proto', 'aes_siv.proto', 'cached_dek_aead.proto', 'cached_dek_envelope.proto', 'chacha20_poly1305.proto', 'common.proto', 'config.proto', 'ecdsa.proto', 'ecies_aead_hkdf.proto', 'ed25519.proto', 'empty.proto', 'hkdf_prf.proto', 'hmac.proto', 'hmac_prf.proto', 'hpke.proto', 'jwt_ecdsa.proto', 'jwt_hmac.proto', 'jwt_rsa_ssa_pkcs1.proto', 'jwt_rsa_ssa_pss.proto', 'kms_aead.proto', 'kms_envelope.proto', 'prf_based_deriver.proto', 'rsa_ssa_pkcs1.proto', 'rsa_ssa_pss.proto', 'test_proto.proto', 'tink.proto', 'xchacha20_poly1305.proto', 'BUILD.bazel', '_signature_key_manager_test.py', '_signature_key_templates.py', '_signature_wrapper.py', 'BUILD.bazel', '_streaming_aead_key_manager_test.py', '_streaming_aead_key_templates.py', '_streaming_aead_key_templates_test.py', 'BUILD.bazel', 'helper.py', 'keyset_builder.py', 'keyset_builder_test.py']",['99631776db6527d8a86fe277af3c66dd3d51908d'],304,304,608,104,,,
cb86273f1a4294e99a52794cd241a1c02f093bcb,"Move proto to tink/proto.

PiperOrigin-RevId: 456244662
Change-Id: Id16cb157be4312bc93cc9745ab96970595467023",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-21 06:40:08-07:00,25200,2022-06-21 06:41:01-07:00,25200,True,False,['setup.py'],['8d093427f48db82d65949f92cc80b1a81039f5fb'],1,1,2,1,,,
09c74a0dc0662e1d5507cb5239804b535273cf84,"Add an internal class ""ProtoKeyFormatSerializationTester"" for testing serialization implementations.

With this user, can first create a tester, and then simply check the implementation by calling
tester.testParseAndSerialize(format, protoFormat, outputPrefixType); to check if the given format serializes to the given protoFormat with the outputPrefixType.

PiperOrigin-RevId: 456487967
Change-Id: I59ce6a41f6642c9d9ec5ed6d2cc14e2a631a1c0d",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-06-22 05:12:14-07:00,25200,2022-06-22 05:12:56-07:00,25200,True,False,['test_proto.proto'],['cb86273f1a4294e99a52794cd241a1c02f093bcb'],0,3,3,1,,,
d8939d5ddc4c0c309b43b57e46148805595bfba5,"Refactor Tink Python testdata path helper function

 - Replace `TINK_SRC_PATH` with the more specific `TINK_PYTHON_ROOT_PATH`; testing/helper.py expects the root of the Tink Python folder (e.g., which for github.com/google/tink this is tink/python).
 - Modify `tink_py_testdata_path` to raise an exception if an environment variable is set but the path is invalid rather than fallback.
 - Update kokoro test scripts and release scripts accordingly.
 - Remove redundant options from `tink_py_testdata_path` and the Google internal path.

PiperOrigin-RevId: 456502202
Change-Id: I6be1865aeaa20dc126d4a6d10e9e3b6d556a2b24",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-22 06:52:13-07:00,25200,2022-06-22 06:52:59-07:00,25200,True,False,"['run_tests.sh', 'helper.py', 'build_linux_binary_wheels.sh', 'create_release.sh', 'test_linux_binary_wheels.sh']",['09c74a0dc0662e1d5507cb5239804b535273cf84'],30,28,58,5,1.0,0.0,0.0
44b31632772fbfb24be6c3283434141ba85f8a48,"Use tink-crypto/tink-py as a dependency for tink-crypto/tink-examples.

 - Use only http_archive entries in tink-crypto/tink-examples/python/WORKSPACE that fetch repos in tink-crypto.
 - Replace transformation of http_archive for tink_py as a subfolder of google/tink with http_archive for tink-crypto/tink-py in replace_http_archive_with_local_repository.py
 - Modify tink-crypto/tink-examples/kokoro/gcp_ubuntu/python/run_tests.sh accordingly

PiperOrigin-RevId: 456526258
Change-Id: I95bfdf7b1e5a91b943a89dd4e7843082e84d65fc",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-22 08:56:32-07:00,25200,2022-06-22 08:57:05-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['d8939d5ddc4c0c309b43b57e46148805595bfba5'],54,9,63,1,1.0,0.0,0.0
152c750e2e0748f88ace6d589b321fabee6551d1,"Modify kokoro/testutils/replace_http_archive_with_local_repository.py

Remove http_archive load only if no more http_archive entries are present in the WORKSPACE file.

PiperOrigin-RevId: 457050164
Change-Id: I6f65be509f0e4320862ac9856f7784694c9ed20f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-24 11:05:23-07:00,25200,2022-06-24 11:06:57-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['44b31632772fbfb24be6c3283434141ba85f8a48'],7,9,16,1,0.0,1.0,1.0
3c596b75ad1ce92cd91fe9f0df2e3c52d45425e3,"Add additional KEM, KDF options to HPKE Params.

Adds the parameters required to support DHKEM over the NIST(P-256, P-384, P-521) curves. This includes additional HKDF function (HKDF-SHA-384, HKDF-SHA-512)

PiperOrigin-RevId: 457452302
Change-Id: Ie60c7871daf57341a52f0d2629a40544cca6fc37",Fernando Lobato,felobato@google.com,Copybara-Service,copybara-worker@google.com,2022-06-27 05:20:16-07:00,25200,2022-06-27 05:21:13-07:00,25200,True,False,['hpke.proto'],['152c750e2e0748f88ace6d589b321fabee6551d1'],0,5,5,1,,,
c774f16455b5516b47998517109a573241c0d501,"Generalise release scripts for Tink Python to take paths as parameters

PiperOrigin-RevId: 457967202
Change-Id: Iec140bacb258f2e67239ae9481913ebbc36d1fb9",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-29 07:03:53-07:00,25200,2022-06-29 07:04:55-07:00,25200,True,False,"['build_linux_binary_wheels.sh', 'create_release.sh', 'test_linux_binary_wheels.sh']",['3c596b75ad1ce92cd91fe9f0df2e3c52d45425e3'],6,14,20,3,,,
4eafdb09b41308eff254f33f0db92527811d143f,"Add tink-go transformation to kokoro/testutils/replace_http_archive_with_local_repository.py

PiperOrigin-RevId: 457998200
Change-Id: I6a507c04c9e832ab87d6894d2f136615f3bbe107",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-29 09:44:46-07:00,25200,2022-06-29 09:45:49-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['c774f16455b5516b47998517109a573241c0d501'],0,14,14,1,0.0,1.0,1.0
59b8ca7de619092a3ffb4cf8913cced1bc107376,"Fix check for http_archive specifying the MULTILINE flag

This makes sure `^` matches also starting of each line.

https://docs.python.org/3/library/re.html#re.M

PiperOrigin-RevId: 458219294
Change-Id: Idaa0e08fc30a461f8c99c4bf965febb49c10fb48",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-06-30 07:21:25-07:00,25200,2022-06-30 07:22:13-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['4eafdb09b41308eff254f33f0db92527811d143f'],1,2,3,1,0.0,1.0,1.0
e7cbb228bacf3dd0e5436671b4552da421d01bd6,"Add test script for tink-py releases creation

PiperOrigin-RevId: 458420035
Change-Id: Ifc2649a6a730d7396787348c405ba9f88d7ad1e1",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-01 02:32:07-07:00,25200,2022-07-01 02:33:08-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['59b8ca7de619092a3ffb4cf8913cced1bc107376'],4,62,66,2,,,
894e884cfb5e8c3f26f80771ef80a4fa579dea19,"Avoid failing in kokoro/testutils/run_bazel_tests.sh when there are no test targets.

PiperOrigin-RevId: 458443574
Change-Id: I0c4a4eee5f0060f239f7fa74f14a24130b19b06f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-01 05:10:17-07:00,25200,2022-07-01 05:10:59-07:00,25200,True,False,['run_bazel_tests.sh'],['e7cbb228bacf3dd0e5436671b4552da421d01bd6'],1,6,7,1,,,
cdd0c20376ae9317f9344ec107dd5b0fbf322e40,"Fixes for Tink Python's create_release.sh script:

 - Save a copy of the WORKSPACE before building wheels, and restore it afterwards.
 - Give ownership of all the files in the Tink Python folder to the non-root user.

PiperOrigin-RevId: 459043624
Change-Id: I8e950680992236d96e53956d570ccd061c87f448",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-05 03:36:13-07:00,25200,2022-07-05 03:37:24-07:00,25200,True,False,['create_release.sh'],['894e884cfb5e8c3f26f80771ef80a4fa579dea19'],0,10,10,1,,,
1929a79c9fafe6de2b5292776d9b28fd6892e54b,"Some refactoring of Tink Python create_release.sh script:

 - Rename `build_linux` as `create_distribution_for_linux` and split it into two functions, one for wheels build and one for source distribution build
 - Rename `build_macos` as `create_distribution_for_macos`.
 - Add comments to functions
 - Remove `set_owner_within_tar` as this is no longer needed: since https://github.com/pypa/setuptools/pull/2800 the parameters `--owner` and `--group` are propagated to setuptools.

PiperOrigin-RevId: 459048112
Change-Id: If9f2cbbaf9344d34c5f849bc3984631d1d519321",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-05 04:09:26-07:00,25200,2022-07-05 04:10:14-07:00,25200,True,False,['create_release.sh'],['cdd0c20376ae9317f9344ec107dd5b0fbf322e40'],28,58,86,1,,,
26681e9e84b1840a16666d1b9bc2a06549d66c3e,"Make Tink Python's //tink/integration/awskms:_aws_kms_aead_test a manual target.

The target requires valid credentials that must be injected by the test environment.
Also modify Python kokoro test scripts to run this test target only on Kokoro.

PiperOrigin-RevId: 459830413
Change-Id: Ib9ca4132f73df89365a3aa5f1734d6236523fe9e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-08 14:05:30-07:00,25200,2022-07-08 14:09:09-07:00,25200,True,False,"['run_tests.sh', 'BUILD.bazel']",['1929a79c9fafe6de2b5292776d9b28fd6892e54b'],15,26,41,2,,,
e543ce52609242155c0dbcc23dafb2ee2f8d263d,"Add LICENSE file.

PiperOrigin-RevId: 460167470
Change-Id: I851e1a40aa495f6307837e08fcfefe973e1d82e6",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-11 03:07:27-07:00,25200,2022-07-11 03:08:02-07:00,25200,True,False,['LICENSE'],['26681e9e84b1840a16666d1b9bc2a06549d66c3e'],0,202,202,1,,,
07dd8318e8bf7228a7b0d79202a1aee881e676e1,"Replace link to the Python HOW-TO with a link to the Tink documentation site.

The PyPI package page (https://pypi.org/project/tink/) uses this
README.md file as the project description. Since this link uses a
relative path, it's broken when rendered on that site.

PiperOrigin-RevId: 460344851
Change-Id: I825753c0d59209ec6485fd2dfb9339aca2f79a2c",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2022-07-11 18:10:05-07:00,25200,2022-07-11 18:11:18-07:00,25200,True,False,['README.md'],['e543ce52609242155c0dbcc23dafb2ee2f8d263d'],2,1,3,1,,,
f319ed0b0c24b0d99119cac4cf40ae3c7641e38b,"Move testdata AWS credentials to testdata/aws.

 - Move all the AWS testdata credentials to testdata/aws
 - Rename credential files to aws/(credentials|access_keys|key_arn)(_bad)?\.[a-z]+
 - Delete redundant aws_credentials_cc.txt
 - Update references in code

PiperOrigin-RevId: 461029435
Change-Id: If37adb73877b06ac9e4c7612212f0c3f3d233ca1",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-14 12:52:54-07:00,25200,2022-07-14 12:55:56-07:00,25200,True,False,"['copy_credentials.sh', 'BUILD.bazel', 'README.md', 'BUILD.bazel', 'access_keys_bad.csv', 'credentials.cred', 'credentials.csv', 'credentials.ini', 'credentials_bad.csv', 'credentials_bad.ini', 'key_arn.txt', 'key_arn_bad.txt', 'credentials_aws.ini', 'BUILD.bazel', '_aws_kms_aead_test.py', '_aws_kms_client_test.py']",['07dd8318e8bf7228a7b0d79202a1aee881e676e1'],25,42,67,16,,,
d8df00e368683677067ba2d305c98d951ddb433b,"Move testdata Google Cloud credentials to testdata/gcp.

 - Move all the Google Cloud testdata credentials to testdata/gcp
 - Rename credential files to gcp/(credentials|key_name)(_bad)?\.[a-z]+
 - Update references in code

PiperOrigin-RevId: 462078985
Change-Id: I8351d59ac71a5d0ec3cff0c0b1633ac424d61713",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-20 01:19:16-07:00,25200,2022-07-20 01:20:51-07:00,25200,True,False,"['copy_credentials.sh', 'BUILD.bazel', 'README.md', 'BUILD.bazel', 'credential.json', 'credential_bad.json', 'key_name.txt', 'key_name_bad.txt', 'BUILD.bazel', '_gcp_kms_aead_test.py', '_gcp_kms_client_test.py', 'BUILD.bazel', 'helper_test.py']",['f319ed0b0c24b0d99119cac4cf40ae3c7641e38b'],22,32,54,13,,,
9799608d3833c501f0b97f2e845c827880328d92,"Fix wrong return type.

PiperOrigin-RevId: 462087940
Change-Id: I50e369a4a3c3024786959c9d97f2798a9b2a9b6d",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2022-07-20 02:09:11-07:00,25200,2022-07-20 02:09:49-07:00,25200,True,False,"['_jwt_mac_wrapper.py', '_jwt_signature_wrappers.py']",['d8df00e368683677067ba2d305c98d951ddb433b'],8,7,15,2,0.0,0.0,0.0
75b6f1c60b479e12707a623ef5e0e45e428e48d3,"Move testdata keysets and testvectors to subfolders in testdata/
 - Move ecies_(public|private)_keyset[2]?.bin to testdata/keysets
 - Rename targets:
   - testdata:ecies_keysets => testdata/keysets:ecies
   - testdata:hpke_boringssl_test_vectors => testdata/testvectors:hpke_boringssl
As a result no target is defined in testdata/.

PiperOrigin-RevId: 462103849
Change-Id: If9d1cde412610187cef4e774c635c11b3055d5f3",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-20 03:51:54-07:00,25200,2022-07-20 03:52:47-07:00,25200,True,False,"['BUILD.bazel', 'BUILD.bazel', 'ecies_private_keyset.bin', 'ecies_private_keyset2.bin', 'ecies_public_keyset.bin', 'ecies_public_keyset2.bin', 'BUILD.bazel']",['9799608d3833c501f0b97f2e845c827880328d92'],32,40,72,7,,,
48db5413e1221ec76fdb776886ba09572ad9b4f2,"Fix spelling errors within comments.

PiperOrigin-RevId: 462618967
Change-Id: I30624336961ab6424df7ca066cdd86c9ddf4f755",arfy slowy,slowy.arfy@gmail.com,Copybara-Service,copybara-worker@google.com,2022-07-22 07:43:00-07:00,25200,2022-07-22 07:48:11-07:00,25200,True,False,"['_aws_kms_client.py', '_gcp_kms_client.py', '_jwt_format.py']",['75b6f1c60b479e12707a623ef5e0e45e428e48d3'],3,3,6,3,,,
3f6edd1f17d4eb4458e6d77cc1bb4e8fcd726e26,"Add SECURITY.md file

PiperOrigin-RevId: 463310371
Change-Id: I3eaa5cab87133156b4f7de913dde4a2e2188b863",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-26 05:13:40-07:00,25200,2022-07-26 05:14:52-07:00,25200,True,False,['SECURITY.md'],['48db5413e1221ec76fdb776886ba09572ad9b4f2'],0,4,4,1,,,
a209e71a3a41a6291757cf23818a88c8f1798028,"Rewrite comment about key version.

PiperOrigin-RevId: 463353675
Change-Id: I9fd872fd6db4e5170dee9fabf00643d7ac06be15",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2022-07-26 09:24:13-07:00,25200,2022-07-26 09:25:19-07:00,25200,True,False,['tink.proto'],['3f6edd1f17d4eb4458e6d77cc1bb4e8fcd726e26'],5,4,9,1,,,
42052c01adeab3d45cc82053f1ad6b26d96721e7,"Make kokoro/testutil/run_bazel_tests.sh exit on a command's non-zero status

The script now exits on a command error and prints debugging output before exiting in case of error.

Note: -E is set to extend the trap to shell functions, command substitutions, and commands executed in a subshell environment (see https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html).
PiperOrigin-RevId: 463902618
Change-Id: I44ffccc5ac1d53a45a73d6e92bd0ebbca6c13494",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-28 12:46:04-07:00,25200,2022-07-28 12:49:28-07:00,25200,True,False,['run_bazel_tests.sh'],['a209e71a3a41a6291757cf23818a88c8f1798028'],11,15,26,1,,,
7a582c3f957ebf1ad0c84588896062d9344c875f,"Add functions to process arguments and print usage.

PiperOrigin-RevId: 464088254
Change-Id: I92e0b0837c27f171954b05cf44c1dc84c9cfe24b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-07-29 08:54:15-07:00,25200,2022-07-29 08:55:31-07:00,25200,True,False,['run_bazel_tests.sh'],['42052c01adeab3d45cc82053f1ad6b26d96721e7'],20,35,55,1,,,
6e4a9d3da8f7c71fc8f85a2069fda81e629c0a9e,"Move python examples to Tink python.

Examples are in a separate Bazel workspace. Added a .bazelignore file to ignore it from Tink Python's workspace.

NOKEYCHECK

PiperOrigin-RevId: 465247308
Change-Id: I71851f41e27bf41f2945b381ff29eb5a975dcd88",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-04 00:49:29-07:00,25200,2022-08-04 00:52:03-07:00,25200,True,False,"['.bazelignore', '.bazelversion', 'BUILD.bazel', 'WORKSPACE', 'BUILD.bazel', 'README.md', 'aead.py', 'aead_basic.py', 'aead_basic_test.py', 'aead_test.sh', 'aead_test_keyset.json', 'BUILD.bazel', 'README.md', 'cleartext_keyset.py', 'cleartext_keyset_test.sh', 'BUILD.bazel', 'README.md', 'deterministic_aead.py', 'deterministic_aead_basic.py', 'deterministic_aead_basic_test.py', 'deterministic_aead_test.sh', 'deterministic_aead_test_keyset.json', 'BUILD.bazel', 'README.md', 'encrypted_keyset.py', 'encrypted_keyset_test.sh', 'BUILD.bazel', 'README.md', 'envelope.py', 'envelope_test.sh', 'BUILD.bazel', 'README.md', 'gcs_envelope_aead.py', 'gcs_envelope_aead_test.sh', 'BUILD.bazel', 'README.md', 'hybrid.py', 'hybrid_test.sh', 'hybrid_test_private_keyset.json', 'hybrid_test_public_keyset.json', 'BUILD.bazel', 'README.md', 'jwt_generate_public_jwk_set.py', 'jwt_sign.py', 'jwt_signature_test.sh', 'jwt_test_private_keyset.json', 'jwt_test_public_keyset.json', 'jwt_verify.py', 'BUILD.bazel', 'README.md', 'mac.py', 'mac_test.sh', 'mac_test_keyset.json', 'requirements.txt', 'BUILD.bazel', 'README.md', 'signature.py', 'signature_basic.py', 'signature_basic_test.py', 'signature_test.sh', 'signature_test_private_keyset.json', 'signature_test_public_keyset.json', 'BUILD.bazel', 'README.md', 'streaming_aead.py', 'streaming_aead_keyset.json', 'streaming_aead_test.sh', 'BUILD.bazel', 'README.md', 'BUILD.bazel', 'access_keys_bad.csv', 'credentials.cred', 'credentials.csv', 'credentials.ini', 'credentials_bad.csv', 'credentials_bad.ini', 'key_arn.txt', 'key_arn_bad.txt', 'BUILD.bazel', 'credential.json', 'credential_bad.json', 'key_name.txt', 'key_name_bad.txt', 'BUILD.bazel', 'ecies_private_keyset.bin', 'ecies_private_keyset2.bin', 'ecies_public_keyset.bin', 'ecies_public_keyset2.bin', 'BUILD.bazel', 'hpke_boringssl.json', 'run_tests.sh']",['7a582c3f957ebf1ad0c84588896062d9344c875f'],0,5074,5074,91,0.06507936507936508,0.27936507936507937,0.9714285714285714
61d1f199fe23447eeff3d9a54f9682c225cc220b,"Modify kokoro/testutils/run_bazel_tests.sh to optionally run only manually-supplied  targets

PiperOrigin-RevId: 465381274
Change-Id: Ia939126434d9f5bb695a05f2bda4f9370590c06e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-04 12:49:13-07:00,25200,2022-08-04 12:50:47-07:00,25200,True,False,['run_bazel_tests.sh'],['6e4a9d3da8f7c71fc8f85a2069fda81e629c0a9e'],16,39,55,1,,,
cac6af7585fda890db0bb95a3fc38a6d050c2c1c,"Add separate kokoro test script for python KMS

PiperOrigin-RevId: 465505198
Change-Id: Id14f53447da4166308f06d6ea6c2eb74b7f14d2b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-05 01:02:52-07:00,25200,2022-08-05 01:04:16-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['61d1f199fe23447eeff3d9a54f9682c225cc220b'],22,85,107,2,,,
0a1512892262acdfdc7a867c6371f5c9a80ec89c,"Add parameter to kokoro/testutils/copy_credentials.sh to select for which KMS service copying credentials.

PiperOrigin-RevId: 466274850
Change-Id: I2ee8183d840b6160357d527bb3eeebbed19d59b0",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-09 01:01:34-07:00,25200,2022-08-09 01:05:14-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'copy_credentials.sh']",['cac6af7585fda890db0bb95a3fc38a6d050c2c1c'],32,94,126,5,,,
286b03cf987d5b4f72705d1c565c7de039d69eb6,"Remove unused test credentials

NOKEYCHECK

PiperOrigin-RevId: 466337609
Change-Id: I1fc72f892711376e1c61ae6671abf928eeae71bb",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-09 06:15:46-07:00,25200,2022-08-09 06:16:42-07:00,25200,True,False,"['BUILD.bazel', 'README.md', 'BUILD.bazel', 'ecies_private_keyset.bin', 'ecies_private_keyset2.bin', 'ecies_public_keyset.bin', 'ecies_public_keyset2.bin', 'BUILD.bazel', 'hpke_boringssl.json', 'BUILD.bazel', 'README.md', 'BUILD.bazel', 'ecies_private_keyset.bin', 'ecies_private_keyset2.bin', 'ecies_public_keyset.bin', 'ecies_public_keyset2.bin', 'BUILD.bazel', 'hpke_boringssl.json']",['0a1512892262acdfdc7a867c6371f5c9a80ec89c'],140,0,140,18,,,
468ac6520d9928e6d4a3b16413c00679a0a70346,"Bump version to 1.7.0.

PiperOrigin-RevId: 466522403
Change-Id: I588bc153b99daf58b328b82062783c59f2251e1a",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2022-08-09 17:53:25-07:00,25200,2022-08-09 17:54:38-07:00,25200,True,False,['VERSION'],['286b03cf987d5b4f72705d1c565c7de039d69eb6'],1,1,2,1,,,
a90bcdd50ba25fd3a87866e30d2ff2479f077ec5,"Add Kokoro scripts for MacOS

PiperOrigin-RevId: 466932582
Change-Id: I52756587e95eea42eff7a74d37c73a0a4f369cb6",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-11 05:59:59-07:00,25200,2022-08-11 06:03:48-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['468ac6520d9928e6d4a3b16413c00679a0a70346'],0,351,351,5,,,
e23c0c01a431c4f66177607b68ae298c0d91ae01,"Remove release test script from the MacOS tests and fix to the others.

The release script was added by mistake.

PiperOrigin-RevId: 466956934
Change-Id: Ia596c2a2a23a8e7c4e40ddbb25d43cca594ff9cf",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-11 08:14:28-07:00,25200,2022-08-11 08:15:24-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['a90bcdd50ba25fd3a87866e30d2ff2479f077ec5'],61,6,67,3,,,
6f27ff13cf327ccebe36285fd96b61f21a2bed12,"Add README.md file and move SECURITY.md and CONTRIBUTING.md to docs/

PiperOrigin-RevId: 467509576
Change-Id: I891f3967a140cd503cacd72bd9b6deef10e4fec4",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-14 05:31:10-07:00,25200,2022-08-14 05:33:43-07:00,25200,True,False,"['README.md', 'CONTRIBUTING.md', 'SECURITY.md']",['e23c0c01a431c4f66177607b68ae298c0d91ae01'],14,85,99,3,,,
3f882c31c0c80a3257d0cc065f364deff20eb74d,"Add testutil script to fetch deps if not yet present and updated calling sites.

This is useful for local one-off testing.

PiperOrigin-RevId: 468391445
Change-Id: If179addc48af0811f449289be6d106e4bdef366b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-18 00:52:50-07:00,25200,2022-08-18 00:55:40-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'fetch_git_repo_if_not_present.sh']",['6f27ff13cf327ccebe36285fd96b61f21a2bed12'],252,105,357,10,,,
14a7ddd921ead5f3824b5fa0fca78831c3545f4a,"Add build and test flag for Javascript on MacOS to kokoro/testutils/run_bazel_tests.sh

PiperOrigin-RevId: 468663601
Change-Id: Ibb330f8c1f2409ee3097bdc14e5278a8751ee990",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-19 03:20:39-07:00,25200,2022-08-19 03:21:51-07:00,25200,True,False,['run_bazel_tests.sh'],['3f882c31c0c80a3257d0cc065f364deff20eb74d'],3,12,15,1,,,
5c6fd3e78f784a2aab897a576b21db4c719382c7,"Some refactoring of kokoro/testutils/replace_http_archive_with_local_repository.py

PiperOrigin-RevId: 469397026
Change-Id: Ib55933e11ac1eb88d94d114da0fe618ecace9d80",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-23 01:54:23-07:00,25200,2022-08-23 01:58:07-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['14a7ddd921ead5f3824b5fa0fca78831c3545f4a'],119,55,174,1,1.0,0.0,0.0
0085f21587ec867ca2f0f45d723fd8282effc4cf,"Add support for additional bazel entries in kokoro/testutils/replace_http_archive_with_local_repository.py

PiperOrigin-RevId: 469408506
Change-Id: Id15849596e4b9f95a8f2e9c55f620479303de21f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-23 02:47:57-07:00,25200,2022-08-23 02:48:36-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['5c6fd3e78f784a2aab897a576b21db4c719382c7'],0,3,3,1,,,
e14f3765814e1e4811909ac9f55f0e85e2f26d84,"Add replacement for com_github_tink_crypto_tink_go_awskms in replace_http_archive_with_local_repository.py

PiperOrigin-RevId: 470216122
Change-Id: I6d4dd1961fd3adbab9ce0a038f6d07a41ee3f8a5",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-26 04:33:40-07:00,25200,2022-08-26 04:37:04-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['0085f21587ec867ca2f0f45d723fd8282effc4cf'],0,1,1,1,,,
95a7264e130cb852f1fa18697aaa8e1d09effde0,"Add build badge to README.md for basic Bazel test.

PiperOrigin-RevId: 470251865
Change-Id: I2b39a6472f0ca0f735204e0b10955269c7c31851",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-26 08:29:53-07:00,25200,2022-08-26 08:30:56-07:00,25200,True,False,['README.md'],['e14f3765814e1e4811909ac9f55f0e85e2f26d84'],2,1,3,1,,,
598f7a40888ecc4bd5c61c0487ad9bf7afaf1c8c,"Modify Kokoro test scripts to add support for GitHub tests and add build badges to README.md

PiperOrigin-RevId: 471193655
Change-Id: I6a27b8042744549799b16f6de644230f10dd141c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-08-31 01:08:56-07:00,25200,2022-08-31 01:13:29-07:00,25200,True,False,"['README.md', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['95a7264e130cb852f1fa18697aaa8e1d09effde0'],10,41,51,10,,,
6c3aff9665a91fed9e153e3054b51a564bd78858,"Fix error in bash script's options processing.

PiperOrigin-RevId: 471525199
Change-Id: Ib59b47606d6f60f9b0df9ead1d115a7489196464",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-09-01 07:27:49-07:00,25200,2022-09-01 07:29:54-07:00,25200,True,False,['run_bazel_tests.sh'],['598f7a40888ecc4bd5c61c0487ad9bf7afaf1c8c'],2,1,3,1,,,
6b35cb11b84e28101f33f2c66dee60d79e1db24b,"Temporarily disable GCP integration tests.

PiperOrigin-RevId: 472581842
Change-Id: Icd64d6fa96c836ee36c5a3e512ab1a0a09b9b08c",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2022-09-06 16:15:30-07:00,25200,2022-09-06 16:18:38-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['6c3aff9665a91fed9e153e3054b51a564bd78858'],4,8,12,4,,,
00b6b534ab78badd96b90d4c206cbbaa91bd549f,"Automated rollback of commit 6b35cb11b84e28101f33f2c66dee60d79e1db24b.

PiperOrigin-RevId: 472806514
Change-Id: Ie664d433af82b07649ebbf290f3a7e3ae6124689",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2022-09-07 13:57:44-07:00,25200,2022-09-07 13:59:31-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['6b35cb11b84e28101f33f2c66dee60d79e1db24b'],8,4,12,4,,,
28416259261e3ef5e9f08fa0ecc28b1b9d059a99,"Add a test in C++, Go and Python for a JSON keyset with a too large key id.

PiperOrigin-RevId: 472991897
Change-Id: I3041435391798edb73d952f51ef43c2eac2b3c28",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2022-09-08 08:11:34-07:00,25200,2022-09-08 08:13:11-07:00,25200,True,False,['_keyset_reader_test.py'],['00b6b534ab78badd96b90d4c206cbbaa91bd549f'],0,43,43,1,0.0,1.0,1.0
9a7746bacff432e47018971bf1f495850b24b098,"Reject JWTs with duplicate map-keys in JSON objects in Python.

Such tokens are already rejected in C++ and Go, and we also want to reject them in Python (and later also in Java) to be consistent between the languages. So this change should be considered a bug fix.

This may potentially break some users that depend on this, but this is unlikely.

This is done by providing a ""object_pairs_hook"" to the JSON parser. This hook can now also be used for the string validation currently done by ""validate_all_strings"". It is preferable to use the hook since then we don't have to write a recursive function.

PiperOrigin-RevId: 475558732
Change-Id: I17ba4253dfd5744c918270a7670d54e62d4a8455",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2022-09-20 08:17:14-07:00,25200,2022-09-20 08:20:46-07:00,25200,True,False,"['_json_util.py', '_json_util_test.py', '_raw_jwt_test.py']",['28416259261e3ef5e9f08fa0ecc28b1b9d059a99'],15,41,56,3,1.0,1.0,1.0
e1c5dc1a796363f9c500f1e1d2605bc106d3aadc,"Move KMS testdata documentation to the KMS specific subdirectories.

PiperOrigin-RevId: 475753103
Change-Id: I36be6be9dc946c059736f8390a9e94531ca8c9d7",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2022-09-21 00:29:53-07:00,25200,2022-09-21 00:30:58-07:00,25200,True,False,"['README.md', 'README.md', 'README.md', 'README.md']",['9a7746bacff432e47018971bf1f495850b24b098'],0,46,46,4,,,
3fff7c81b27cde79dd4a5998caf910fa41f97f7b,"Replace master => main when including tink-cc.

Also update kokoro/testutils/replace_http_archive_with_local_repository.py

PiperOrigin-RevId: 480736459
Change-Id: Ibaa5807917194ecfc0f54bd3bb3e84b31b3c71a6",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-12 15:44:20-07:00,25200,2022-10-12 15:55:58-07:00,25200,True,False,"['WORKSPACE', 'WORKSPACE', 'replace_http_archive_with_local_repository.py', 'setup.py']",['e1c5dc1a796363f9c500f1e1d2605bc106d3aadc'],31,31,62,4,,,
1563e3b397271a23b60c7bad29686997bd216b01,"Fix bug in kokoro/testutils/fetch_git_repo_if_not_present.sh

Read CLI parameters as an array.

PiperOrigin-RevId: 481155429
Change-Id: I100e3a5790bf5dc640b48dd6490c9c5cb70df7c2",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-14 08:47:54-07:00,25200,2022-10-14 08:50:11-07:00,25200,True,False,['fetch_git_repo_if_not_present.sh'],['3fff7c81b27cde79dd4a5998caf910fa41f97f7b'],1,1,2,1,,,
bc4645a85ce391265ecad0576358bea997c72c08,"Pin google-cloud-storage and add constraint for google-api-core

This is to avoid version 2.10.2 of google-api-core to be installed because it uses an incompatible protobuf version.

PiperOrigin-RevId: 481255118
Change-Id: Ife56ae21c16f755b7c25c0d40e0fb159d64eefe4",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-14 16:11:11-07:00,25200,2022-10-14 16:12:19-07:00,25200,True,False,"['constraints.in', 'requirements.txt', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'install_tink_via_pip.sh']",['1563e3b397271a23b60c7bad29686997bd216b01'],4,11,15,7,,,
2ddb95a4a4400a0e5d0373438d12c2afedae11e5,"Upgrade rules_python to 0.10.2.

Note: Using a newer version would require switching to use `pip_parse` instead of `pip_install`, which requires some refactoring of Bazel build files; also `pip_install` is being deprecated.
PiperOrigin-RevId: 482123931
Change-Id: I7ca2bf53fa0ee37e0f54cf12ff7d6a0e72d238fe",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-19 00:17:29-07:00,25200,2022-10-19 00:23:46-07:00,25200,True,False,['tink_py_deps.bzl'],['bc4645a85ce391265ecad0576358bea997c72c08'],4,4,8,1,,,
fc6c98b6d615a24ccc0088cd729eea2870a21a0f,"Add tests for each StreamingAead template in Python.

PiperOrigin-RevId: 482150720
Change-Id: I7a73d48c080a37650dfb2024b9742f43955be8bf",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2022-10-19 02:29:52-07:00,25200,2022-10-19 02:30:52-07:00,25200,True,False,['_streaming_aead_key_manager_test.py'],['2ddb95a4a4400a0e5d0373438d12c2afedae11e5'],0,35,35,1,0.0,1.0,1.0
5fbcc9c7323c5bb1d670e5eb7cfea3f9e930ad91,"Use injected use_bazel.sh script when running on Kokoro

PiperOrigin-RevId: 482195438
Change-Id: I9e4a6af850ae9ee3fc4840ad62b9633d3c77886d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-19 07:09:08-07:00,25200,2022-10-19 07:10:09-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['fc6c98b6d615a24ccc0088cd729eea2870a21a0f'],5,10,15,5,,,
dd3edd54c3deaf02a7499f8203a86e8527d3c8a3,"Avoid installing Python3 and protoc when running on Kokoro

PiperOrigin-RevId: 482403839
Change-Id: I66529d891e0b269608e433bfa737f005332a7f7e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-20 00:05:45-07:00,25200,2022-10-20 00:06:36-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['5fbcc9c7323c5bb1d670e5eb7cfea3f9e930ad91'],18,3,21,5,,,
eb7322404fbe1d5a9b748b03a7c60a58288db3e0,"Add separate Kokoro tests for illustrating two use cases:
 - use Tink python as a Bazel dependency;
 - use Tink as a dependency that is preinstalled with `pip`.

PiperOrigin-RevId: 482422810
Change-Id: I87d1e1e424c03d27c20a2e9a4a4e6f94faf4d2a9",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-20 01:40:17-07:00,25200,2022-10-20 01:41:06-07:00,25200,True,False,"['WORKSPACE', 'BUILD.bazel', 'requirements.txt', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'tink_py_deps_init.bzl']",['dd3edd54c3deaf02a7499f8203a86e8527d3c8a3'],45,286,331,12,,,
49278a018994600e42028368f9ef9a22dedd269a,"Generate requirements.txt using pip-tools

The convention is:
 - requirements.in declares the direct dependencies
 - requirements.txt is a locked set of the pinned direct and indirect deps
 - constraints.in has specific constraints (for examples, constraints the version of google-api-core==2.10.1 because 2.10.2 has incompatible requirements on protobuf)

The requirements.txt file was generated with:
```
cd /path/to/tink_py
python3 -m venv ""${SOME_VIRT_ENV_FOLDER}""
source ""${SOME_VIRT_ENV_FOLDER}""/bin/activate
(venv) python -m pip install pip-tools
(venv) pip-compile -o requirements.txt requirements.in \
         --generate-hashes
```

Also:
 - bump protobuf to 3.20.2
 - pin absl-py to 1.3.0
PiperOrigin-RevId: 482593752
Change-Id: Ib940876f868515da884858e58c06aa571b7b3ea4",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-20 14:10:43-07:00,25200,2022-10-20 14:11:55-07:00,25200,True,False,"['MANIFEST.in', 'requirements.in', 'requirements.txt', 'requirements.in', 'requirements.txt', 'setup.py']",['eb7322404fbe1d5a9b748b03a7c60a58288db3e0'],8,224,232,6,,,
3c1be6e8e064b711fe31eba4337ac034467c4ba6,"Upgrade BoringSSL and switch to C++14 as the minimum supported version

Many of the dependencies we use in Tink are moving to support only C++14. BoringSSL is an example (see https://github.com/google/boringssl/commit/493d5cbedda8690d17a323d3532acfb1fb1845ad#diff-bad5d9040d9fca0b5e67ed87fde70b1d1effd7110bcb4d6ed0c8f6e16be23be1). This change:

- Sets c++14 as the default version used by all the workspaces that use tink-cc and Bazel's default toolchain via `.bazerlrc` files. Tink users can override this by passing `--cxxopt='-std=c++<verison>'` or editing its toolchain.
- Upgrades BoringSSL to 2022-09-14's commit.

PiperOrigin-RevId: 484479474
Change-Id: I868ba9e36a93136c7faab2001a5a152a46f6a93c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-28 02:43:30-07:00,25200,2022-10-28 02:45:43-07:00,25200,True,False,"['.bazelrc', '.bazelrc']",['49278a018994600e42028368f9ef9a22dedd269a'],0,6,6,2,,,
6c8989c2416bf9c863d29e33daabe578c28fc050,"Include .bazelrc in MANIFEST.in to be included in sdist

This is needed to build Tink C++ with -std=c++14.

PiperOrigin-RevId: 484984405
Change-Id: I14aa368d227b75f859047148477d500b6d73ae0b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-10-31 01:40:39-07:00,25200,2022-10-31 01:41:33-07:00,25200,True,False,['MANIFEST.in'],['3c1be6e8e064b711fe31eba4337ac034467c4ba6'],0,1,1,1,,,
023fdad40b580dd95ee9d09bbf73158f5ef417ac,"Update the proto version to 3.20.3

PiperOrigin-RevId: 487764929
Change-Id: Ib0bffa41eb600b57822a26fb7ab4fb0421aa13ce",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-11-11 02:04:14-08:00,28800,2022-11-11 02:06:39-08:00,28800,True,False,"['requirements.in', 'requirements.txt', 'requirements.in', 'requirements.txt', 'build_linux_binary_wheels.sh']",['6c8989c2416bf9c863d29e33daabe578c28fc050'],49,49,98,5,,,
0a77f82f825e586e6258237f4281179f87eadc76,"Upgrade to proto version 4.21.9.

Note: The python major version is 4. https://developers.google.com/protocol-buffers/docs/news/2022-05-06.  However, the proto team tags the releases without major version typically.
PiperOrigin-RevId: 487808479
Change-Id: Ic54fa7380dd5dd32d9ed8aad737fdcd695ca0118",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-11-11 06:37:01-08:00,28800,2022-11-11 06:37:48-08:00,28800,True,False,"['requirements.in', 'requirements.in', 'build_linux_binary_wheels.sh']",['023fdad40b580dd95ee9d09bbf73158f5ef417ac'],5,6,11,3,,,
17d928482ffc3396c1eefbca6be33acae6c591fb,"Upgrade the used protoc compiler.

PiperOrigin-RevId: 488310421
Change-Id: I8d3cef2bb538f949f4fa38b632b566c6c11586a5",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-11-14 02:40:03-08:00,28800,2022-11-14 02:41:01-08:00,28800,True,False,['install_protoc.sh'],['0a77f82f825e586e6258237f4281179f87eadc76'],1,1,2,1,,,
0bb998962b793dec441639ec0f5117d032a65258,"Upgrade more protobuf dependencies to X.21.9, which is the latest.

PiperOrigin-RevId: 488604910
Change-Id: I509955d01a6988b69371d5c2abde74eeff3baea5",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-11-15 02:47:38-08:00,28800,2022-11-15 02:48:48-08:00,28800,True,False,['install_protoc.sh'],['17d928482ffc3396c1eefbca6be33acae6c591fb'],1,2,3,1,,,
cb56024e7edcdc63295b78b810767dde0ff1e48a,"Fix linting issue in tink ed25519 proto (message indented 4 spaces instead of 2).

PiperOrigin-RevId: 488685146
Change-Id: Id509bbb24a1df059fbda71e662bcbaa7bd9bfb2a",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2022-11-15 09:51:28-08:00,28800,2022-11-15 09:52:07-08:00,28800,True,False,['ed25519.proto'],['0bb998962b793dec441639ec0f5117d032a65258'],1,1,2,1,,,
666c816d528da152116ffeece88e003232b23088,"Use injected `use_bazel.sh` script in Kokoro jobs.

PiperOrigin-RevId: 489144156
Change-Id: I69bd2107e16223f02e1276cf07a76193b33099fb",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-11-17 00:54:16-08:00,28800,2022-11-17 00:55:38-08:00,28800,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['cb56024e7edcdc63295b78b810767dde0ff1e48a'],6,12,18,6,,,
eaebb0db4b54749a0651b7088b0c8139162ea63a,"Install protobuf==3.20.3 in MacOS Kokoro tests.

PiperOrigin-RevId: 489268412
Change-Id: I1b8d446a789536c742168b56a4d7d2a54f9d814e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-11-17 11:48:40-08:00,28800,2022-11-17 11:49:32-08:00,28800,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['666c816d528da152116ffeece88e003232b23088'],3,3,6,3,,,
9443fb3964d9562875a206e1a5b2ec5e5c79d18c,"Use Bazelisk in Kokoro tests when available

PiperOrigin-RevId: 489951470
Change-Id: I954bdf4825b7a71e76d82cb8a61485236cb7598d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-11-21 04:59:12-08:00,28800,2022-11-21 05:00:11-08:00,28800,True,False,['run_bazel_tests.sh'],['eaebb0db4b54749a0651b7088b0c8139162ea63a'],4,13,17,1,,,
af0bba11185f39cdef33fab09cec82a9836daf24,"Upgrade Bazel to 5.3.2.

PiperOrigin-RevId: 490480850
Change-Id: Ibe7418a171e0b916a86caa41055f35758dedd7ac",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-11-23 05:57:13-08:00,28800,2022-11-23 05:58:10-08:00,28800,True,False,"['.bazelversion', '.bazelversion']",['9443fb3964d9562875a206e1a5b2ec5e5c79d18c'],2,2,4,2,,,
dfb4ec01d2ebbafa1851a2fa149eee5085d686e5,"Remove the use of `use_bazel.sh` on GCP Ubuntu tests; use Bazelisk when available.

PiperOrigin-RevId: 492983815
Change-Id: Ibc20b6c88052d194d61347d760785b98ec5d1b7a",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-05 05:58:48-08:00,28800,2022-12-05 06:02:15-08:00,28800,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['af0bba11185f39cdef33fab09cec82a9836daf24'],18,28,46,7,,,
60a187deec821bc4defac8724c8fd70326dd2ebb,"Use bazelisk instead of `use_bazel.sh` in Kokoro test scripts.

PiperOrigin-RevId: 493534554
Change-Id: I52041e1a89a7fc35ff000c190ef57aecb38b97a2",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-07 01:24:42-08:00,28800,2022-12-07 01:26:42-08:00,28800,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['dfb4ec01d2ebbafa1851a2fa149eee5085d686e5'],18,35,53,6,,,
507c559fce7145fe0567b8e33789cbc1882f821c,"Remove reference to `use_bazel.sh` from install_tink_via_pip.sh instructions

PiperOrigin-RevId: 493550880
Change-Id: I129a64f1b14c06b97ec4746ffaf351a96881c38d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-07 02:49:43-08:00,28800,2022-12-07 02:50:23-08:00,28800,True,False,['install_tink_via_pip.sh'],['60a187deec821bc4defac8724c8fd70326dd2ebb'],4,2,6,1,,,
87767028934bdbb0ee0fe234c5e422f99dfd13c9,"Add walkthrough examples for creating and loading a cleartext keyset

PiperOrigin-RevId: 493575663
Change-Id: Ib46c9d8ff0b178c375607a7b10e6c2f40d7e9057",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-07 05:19:02-08:00,28800,2022-12-07 05:19:53-08:00,28800,True,False,"['BUILD.bazel', 'create_keyset.py', 'create_keyset_test.py', 'load_cleartext_keyset.py', 'load_cleartext_keyset_test.py']",['507c559fce7145fe0567b8e33789cbc1882f821c'],0,226,226,5,0.6481481481481481,1.0,1.0
0c9123b06f0c46f98b019b0617d5a8d3872bfe52,"Add example to showcase how to load a KMS-encrypted keyset

PiperOrigin-RevId: 493613113
Change-Id: Ib297741dcc582889df132f9554f1a7a4d92bddce",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-07 08:36:43-08:00,28800,2022-12-07 08:37:44-08:00,28800,True,False,"['BUILD.bazel', 'load_encrypted_keyset.py', 'load_encrypted_keyset_test.py']",['87767028934bdbb0ee0fe234c5e422f99dfd13c9'],0,215,215,3,0.2948717948717949,1.0,0.5512820512820513
8172e0232821b89f1380516289a7f95faffd9e12,"Add example on how to obtain and use a primitive.

PiperOrigin-RevId: 493888935
Change-Id: I7494e113d8855497f6a9fc6542df98bb931edd9d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-08 07:24:18-08:00,28800,2022-12-08 07:25:17-08:00,28800,True,False,"['BUILD.bazel', 'obtain_and_use_a_primitive.py', 'obtain_and_use_a_primitive_test.py']",['0c9123b06f0c46f98b019b0617d5a8d3872bfe52'],0,157,157,3,0.23214285714285715,1.0,0.23214285714285715
14ba0c8d954da374442d17c7b460fb598d534ff0,"Add example to showcase how to encrypt a keyset with a KMS and write it to a Text IO

Also added _FAKE_KMS_KEY_URI as a constant rather than computing it from an AEAD keyset in both load_encrypted_keyset_test and write_keyset_test

PiperOrigin-RevId: 494721907
Change-Id: Ib2cf808c9d42134c9bfc081aef86be71777b542c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-12 07:23:08-08:00,28800,2022-12-12 07:25:34-08:00,28800,True,False,"['BUILD.bazel', 'load_encrypted_keyset_test.py', 'write_keyset.py', 'write_keyset_test.py']",['8172e0232821b89f1380516289a7f95faffd9e12'],18,166,184,4,0.16981132075471697,1.0,0.5283018867924528
2cfa92cae65f144e192a23f2289b4baba753739f,"Fix two typos.

PiperOrigin-RevId: 495297501
Change-Id: I2908035d4c881eac466e5854d475afdb881c7e7c",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-12-14 06:28:29-08:00,28800,2022-12-14 06:30:10-08:00,28800,True,False,['create_keyset.py'],['14ba0c8d954da374442d17c7b460fb598d534ff0'],1,1,2,1,,,
b0d9a2138e2ddf38d273e990251e973e37822538,"Add examples to serialize a cleartext keyset

PiperOrigin-RevId: 496898701
Change-Id: I778cbbd5f3dc5c964c5efdb702d67933b5142e96",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2022-12-21 05:34:26-08:00,28800,2022-12-21 05:37:23-08:00,28800,True,False,"['BUILD.bazel', 'write_cleartext_keyset.py', 'write_cleartext_keyset_test.py']",['2cfa92cae65f144e192a23f2289b4baba753739f'],0,115,115,3,0.3548387096774194,1.0,1.0
893450cdbef037b757325420e3f6be2ca5006f7d,"Remove incompatible_linkopts_to_linklibs.

This has been removed in https://github.com/bazelbuild/bazel/commit/34ce6a23f5a2be58bb59661dd5fc9ab586ea1703 and we can now omit it.

It seems our test fails because of this.

PiperOrigin-RevId: 496933570
Change-Id: I4178ddf7b97e5c067214a869d0850fad48dd50b0",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-12-21 08:57:28-08:00,28800,2022-12-21 08:58:27-08:00,28800,True,False,['setup.py'],['b0d9a2138e2ddf38d273e990251e973e37822538'],4,1,5,1,1.0,0.0,0.0
26465ea8f047df173999b054cc0b3fbb0eeb466e,"Upgrade the Python Bazelversion to 6.

PiperOrigin-RevId: 497191146
Change-Id: I50edc656f89eb5a0d13fde8cf5e9d83c8d445650",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2022-12-22 10:16:08-08:00,28800,2022-12-22 10:17:32-08:00,28800,True,False,"['.bazelversion', '.bazelversion']",['893450cdbef037b757325420e3f6be2ca5006f7d'],2,2,4,2,,,
54123213af459106a6a2926568f0388b6851096c,"Add version field to ECDSA key format proto and validate it in key derivation.

Note that key derivation for ECDSA is currently only supported in C++.

PiperOrigin-RevId: 499410971
Change-Id: I15f06a90f537624f744de866b875e69a631e05fa",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-01-04 00:17:58-08:00,28800,2023-01-04 00:19:43-08:00,28800,True,False,['ecdsa.proto'],['26465ea8f047df173999b054cc0b3fbb0eeb466e'],0,1,1,1,,,
6c31066f1093384a126dedef7d24d0098e571f46,"Update the requirements.txt file.

This was forgotten when the requirements.in files were updated.

PiperOrigin-RevId: 504499041
Change-Id: I789771316db2837bb1ad7b808b15764404e4f420",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2023-01-25 01:59:48-08:00,28800,2023-01-25 02:03:00-08:00,28800,True,False,"['requirements.txt', 'requirements.txt']",['54123213af459106a6a2926568f0388b6851096c'],46,30,76,2,,,
3b97397d04ab5e8e92b7e1b3fb8b1660dd0cfe2e,"Bump certifi from 2022.9.24 to 2022.12.7 in /python/examples
Bumps [certifi](https://github.com/certifi/python-certifi) from 2022.9.24 to 2022.12.7.
- [Release notes](https://github.com/certifi/python-certifi/releases)
- [Commits](certifi/python-certifi@2022.09.24...2022.12.07)

---
updated-dependencies:
- dependency-name: certifi
  dependency-type: indirect
...
PiperOrigin-RevId: 504565190
Change-Id: I3c979c114e09d57208eb443f95b932d10f6d50d2",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-01-25 08:09:13-08:00,28800,2023-01-25 08:10:14-08:00,28800,True,False,['requirements.txt'],['6c31066f1093384a126dedef7d24d0098e571f46'],3,3,6,1,,,
8a0916eb2f3b849820c64a79b32cd134e5eb38b6,"Clarify documentation about default HKDF salt value.

PiperOrigin-RevId: 507991558
Change-Id: I52a617d993cfdf302b0e32863bc044a5e0e0422d",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-02-07 23:42:01-08:00,28800,2023-02-07 23:46:42-08:00,28800,True,False,['hkdf_prf.proto'],['3b97397d04ab5e8e92b7e1b3fb8b1660dd0cfe2e'],2,6,8,1,,,
752cb8d0bf06f996157666aeebc99ac7e3d51f41,"Add option to pass extra flags to bazel build and test

PiperOrigin-RevId: 508101771
Change-Id: I8c56cb2fecdcf47ebff12622f4309ba6e91d7945",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-02-08 09:29:13-08:00,28800,2023-02-08 09:30:55-08:00,28800,True,False,['run_bazel_tests.sh'],['8a0916eb2f3b849820c64a79b32cd134e5eb38b6'],17,20,37,1,,,
a8c7af4296df0cf59a213024acad3dbc9447b29e,"fix go proto module path (Pull request #669)

PiperOrigin-RevId: 508400324
Change-Id: I930d9372f88a8d5475f90895eb5ecec10b98c7ca",Tim Ruffles,timruffles@googlemail.com,Copybara-Service,copybara-worker@google.com,2023-02-09 09:48:01-08:00,28800,2023-02-09 09:49:00-08:00,28800,True,False,['aes_gcm.proto'],['752cb8d0bf06f996157666aeebc99ac7e3d51f41'],1,1,2,1,,,
e0505e66128360d916e016b14dd109cab015d401,"Update go proto path in Tink proto definitions.

Do the same as pull request # 669 for all the other protos.

PiperOrigin-RevId: 509216831
Change-Id: Ica5e31855adba37b9faf702a746e3f51ba971a0e",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-02-13 07:07:13-08:00,28800,2023-02-13 07:09:22-08:00,28800,True,False,"['aes_cmac.proto', 'aes_cmac_prf.proto', 'aes_ctr.proto', 'aes_ctr_hmac_aead.proto', 'aes_ctr_hmac_streaming.proto', 'aes_eax.proto', 'aes_gcm_hkdf_streaming.proto', 'aes_gcm_siv.proto', 'aes_siv.proto', 'cached_dek_aead.proto', 'cached_dek_envelope.proto', 'chacha20_poly1305.proto', 'common.proto', 'config.proto', 'ecdsa.proto', 'ecies_aead_hkdf.proto', 'ed25519.proto', 'empty.proto', 'hkdf_prf.proto', 'hmac.proto', 'hmac_prf.proto', 'hpke.proto', 'jwt_ecdsa.proto', 'jwt_hmac.proto', 'jwt_rsa_ssa_pkcs1.proto', 'jwt_rsa_ssa_pss.proto', 'kms_aead.proto', 'kms_envelope.proto', 'prf_based_deriver.proto', 'rsa_ssa_pkcs1.proto', 'rsa_ssa_pss.proto', 'tink.proto', 'xchacha20_poly1305.proto']",['a8c7af4296df0cf59a213024acad3dbc9447b29e'],33,33,66,33,,,
17f55d546f32dbd8565bf981411058571e7f1d48,"Update Abseil to LTS 20230125.

Also, upgrade to GCC 7 as required by latest Abseil release.
https://github.com/abseil/abseil-cpp/blob/master/absl/base/policy_checks.h#L57

PiperOrigin-RevId: 509248959
Change-Id: I825733d11480ace240a710795d6167ecc0547646",William Conner,wconner@google.com,Copybara-Service,copybara-worker@google.com,2023-02-13 09:24:28-08:00,28800,2023-02-13 09:25:20-08:00,28800,True,False,"['.bazelrc', '.bazelrc', 'upgrade_gcc.sh']",['e0505e66128360d916e016b14dd109cab015d401'],4,46,50,3,,,
d00b24563a8805e97bd85dc5d4d43a3c718ecf88,"Pin versions of build tools in create_release.sh script.

PiperOrigin-RevId: 510132965
Change-Id: I9061078ecb7185470d8ae90ab220ffaa0331508d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-02-16 07:01:07-08:00,28800,2023-02-16 07:03:25-08:00,28800,True,False,"['create_release.sh', 'requirements.in', 'requirements.txt']",['17f55d546f32dbd8565bf981411058571e7f1d48'],3,25,28,3,,,
6d0e16c5218dc3870f6f3fd5ff662348ab8280ae,"Use `--no-deps --no-index` when installing locally built sdist.

PiperOrigin-RevId: 510408648
Change-Id: I948d66fe257657010c6816f4990646efd16f1981",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-02-17 05:41:11-08:00,28800,2023-02-17 05:42:16-08:00,28800,True,False,['create_release.sh'],['d00b24563a8805e97bd85dc5d4d43a3c718ecf88'],1,3,4,1,,,
db7af9e0641733366c5bd0881a7dea43eef19bf7,"Update Python examples.

- Remove __future__ imports. They were needed to be compatible with Python 2.7 and are not needed anymore.
- Replace tink.KeysetHandle.generate_new with tink.new_keyset_handle.

PiperOrigin-RevId: 513752344
Change-Id: I1f5cce098157c057de31aa26b872d813634363c9",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-03 00:52:24-08:00,28800,2023-03-03 00:58:35-08:00,28800,True,False,"['aead.py', 'cleartext_keyset.py', 'deterministic_aead.py', 'encrypted_keyset.py', 'envelope.py', 'gcs_envelope_aead.py', 'hybrid.py', 'jwt_generate_public_jwk_set.py', 'jwt_sign.py', 'jwt_verify.py', 'mac.py', 'signature.py', 'streaming_aead.py']",['6d0e16c5218dc3870f6f3fd5ff662348ab8280ae'],64,5,69,13,,,
4c01b3cc8089a4e2f6cec390c1cfcee1337f386f,"Document that encrypting with a key with output prefix type TINK will not allow to decrypt again (Python, StreamingAead).

PiperOrigin-RevId: 514345753
Change-Id: I00d4df2e4e9ba31449e82e12f2b72f99f07724d7",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2023-03-06 02:25:18-08:00,28800,2023-03-06 07:11:16-08:00,28800,True,False,"['BUILD.bazel', '_streaming_aead_wrapper_test.py']",['db7af9e0641733366c5bd0881a7dea43eef19bf7'],0,73,73,2,0.0,1.0,1.0
935ef9e7f8aa2d94044891941bfbdcfd60d8b4d0,"Fix some wording and formating.

PiperOrigin-RevId: 514645159
Change-Id: I35ae43ead05eb5fc86862f7c07dcd23e57439e13",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-07 00:08:22-08:00,28800,2023-03-07 00:09:38-08:00,28800,True,False,"['aead_basic.py', 'deterministic_aead_basic.py', 'signature_basic.py']",['4c01b3cc8089a4e2f6cec390c1cfcee1337f386f'],5,5,10,3,,,
06ec5643cdf52611eb48a9a3f1cbdeef9adb13fd,"Use all primitives to decrypt in StreamingAead (python).

If someone uses a StreamingAead key with a non-raw output prefix, this will allow them to decrypt. Note that Tink already allows encryption.

PiperOrigin-RevId: 514677291
Change-Id: Ic568e8b2c8d7e76bad114120d2ad8d5842a348d7",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2023-03-07 02:59:32-08:00,28800,2023-03-07 03:00:20-08:00,28800,True,False,"['_streaming_aead_wrapper.py', '_streaming_aead_wrapper_test.py']",['935ef9e7f8aa2d94044891941bfbdcfd60d8b4d0'],8,10,18,2,1.0,1.0,0.0
e518d86dc2342981aba9ea30dd45023a890dba9a,"Internal change.

PiperOrigin-RevId: 514985803
Change-Id: I0d525feda32d9b0610094f4341e1f219f3c24ea3",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-08 02:56:14-08:00,28800,2023-03-08 02:57:02-08:00,28800,True,False,"['tink_bindings.cc', '_gcp_kms_aead_test.py']",['06ec5643cdf52611eb48a9a3f1cbdeef9adb13fd'],3,5,8,2,,,
adecd4b3d065594b9df62cead26f94b3568b9ba5,"Automated rollback of commit e518d86dc2342981aba9ea30dd45023a890dba9a.

PiperOrigin-RevId: 515091158
Change-Id: I25365e90e9b96349f32a29ba83fc0cb2692a5787",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2023-03-08 11:20:26-08:00,28800,2023-03-08 11:22:08-08:00,28800,True,False,"['tink_bindings.cc', '_gcp_kms_aead_test.py']",['e518d86dc2342981aba9ea30dd45023a890dba9a'],5,3,8,2,,,
675ddead49d8f9c6ae803dae45ebc8b30b96c3aa,"Use tink.read_no_secret_keyset_handle to read public keyset instead of cleartext_keyset_handle.

Also, remove the comment about the method public_keyset_handle(). It is not really
important to understand the example, so I prefer to remove it.

PiperOrigin-RevId: 515273276
Change-Id: Ia1f5d5f5aebba4134858a54a1ab351ee9a1366a4",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-09 02:02:52-08:00,28800,2023-03-09 02:03:48-08:00,28800,True,False,['signature_basic.py'],['adecd4b3d065594b9df62cead26f94b3568b9ba5'],4,10,14,1,0.0,1.0,1.0
7c652c47841d307473904396cb626bf987d0adf4,"Some renaming in the Python mac cli example.

PiperOrigin-RevId: 516153012
Change-Id: I935910878378f545ddac639231587c9a56735e84",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-13 02:42:13-07:00,25200,2023-03-13 02:43:20-07:00,25200,True,False,['mac.py'],['675ddead49d8f9c6ae803dae45ebc8b30b96c3aa'],6,6,12,1,,,
4b4c72e992a76de89fe0eccb73ef1f658d4f28b4,"Add mac_basic.py example.

Use the same structure as the aead_basic.py example.

PiperOrigin-RevId: 516155796
Change-Id: I61f89fb379f28d3e538bac0a755688a6ddc631db",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-13 02:58:06-07:00,25200,2023-03-13 02:58:40-07:00,25200,True,False,"['BUILD.bazel', 'mac_basic.py', 'mac_basic_test.py']",['7c652c47841d307473904396cb626bf987d0adf4'],0,111,111,3,0.08,1.0,1.0
5db1fec3fc3dd88647987fb416cdf35a008fcbb4,"Add simple hybrid encryption example.

PiperOrigin-RevId: 516576038
Change-Id: Ic9f734a3e939f0e3a841d22d69cd45f3731a5523",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-14 11:05:01-07:00,25200,2023-03-14 11:07:16-07:00,25200,True,False,"['BUILD.bazel', 'hybrid_basic.py', 'hybrid_basic_test.py']",['4b4c72e992a76de89fe0eccb73ef1f658d4f28b4'],0,144,144,3,0.044444444444444446,1.0,1.0
08b30013afd54a4b2dc2a10b7fb19683efd24021,"Add tests for KmsAeadKey and KmsEnvelopeAeadKey in Python.

PiperOrigin-RevId: 516846176
Change-Id: I622735076822050d7d364879bf74b36253d79411",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-15 09:25:24-07:00,25200,2023-03-15 09:26:31-07:00,25200,True,False,"['BUILD.bazel', '_aead_key_manager_test.py']",['5db1fec3fc3dd88647987fb416cdf35a008fcbb4'],0,27,27,2,1.0,1.0,1.0
eadeb601a236c9590297822c7adaa9f761e910ff,"Add test with fixed keyset and fixed ciphertext for KmsEnvelopeAeadKey in Python.

PiperOrigin-RevId: 517117499
Change-Id: I1a1499e779cfccb394c962fa9260cf704b7d64cf",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-16 07:36:49-07:00,25200,2023-03-16 07:37:47-07:00,25200,True,False,"['BUILD.bazel', '_aead_key_manager_test.py']",['08b30013afd54a4b2dc2a10b7fb19683efd24021'],0,32,32,2,0.0,1.0,1.0
0ce742ea963eb08389f60b3a5464cc0588283835,"Add some tests to GCP KMS integration in Python.

Test keysets with key types KmsAeadKey and KmsEnvelopeAeadKey. These use registered kms clients.

Note that because we can't un-register, we test in two files. In one file, we register a GCP KMS client without binding it to a URI, and in the other file we register a client that is bound to a key URI.

PiperOrigin-RevId: 517163390
Change-Id: I9016ae6bc71b1cad82caa85e5090e72cb872d48f",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-16 10:38:06-07:00,25200,2023-03-16 10:39:05-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'BUILD.bazel', '_gcp_kms_client_integration_test.py', '_gcp_kms_integration_test.py']",['eadeb601a236c9590297822c7adaa9f761e910ff'],21,217,238,5,0.5465116279069767,1.0,1.0
088a833c23618e6db8b13a7010d21f518f49ebef,"Internal Code Change

PiperOrigin-RevId: 517769202
Change-Id: I3a443bf788609508db7970adb7c2f7acf96de439",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2023-03-19 05:59:49-07:00,25200,2023-03-19 06:01:01-07:00,25200,True,False,['cc_fake_kms_client_testonly.h'],['0ce742ea963eb08389f60b3a5464cc0588283835'],3,3,6,1,,,
42409d158e6c945650b12499a24e2e52f5c09c35,"Add some additional tests for KMS AEAD key managers in Python.

PiperOrigin-RevId: 517943936
Change-Id: I8eb3e1ae6367f4a3ae7ac9cb37ddad9f4b6db7ae",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-20 05:55:15-07:00,25200,2023-03-20 05:56:01-07:00,25200,True,False,"['BUILD.bazel', '_aead_key_manager_test.py']",['088a833c23618e6db8b13a7010d21f518f49ebef'],0,27,27,2,1.0,1.0,1.0
3e5443bb1af4cfb93a59070f86fde9644c28863c,"Let the Python implementation of KmsEnvelopeAead verify key_template.

This change has the effect that if an unknown key template is used, KmsEnvelopeAead will already fail when it is created, and not when it is used.

The C++ implementation also does this check, so it's better to also do it in Python, so that the behavior does not change when we migrate from wrapping the C++ version to the pure Python version.

At the same time, fix a lint warning.

PiperOrigin-RevId: 517961583
Change-Id: Id8d7f5ba7dceac557e40a6c434b86ae6ea567348",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-20 07:31:04-07:00,25200,2023-03-20 07:32:16-07:00,25200,True,False,"['BUILD.bazel', '_kms_envelope_aead.py', '_kms_envelope_aead_test.py']",['42409d158e6c945650b12499a24e2e52f5c09c35'],4,22,26,3,0.8888888888888888,1.0,0.7777777777777778
7b092ef85081bfba397de8b80365f920b4ab13f4,"Implement native Python key managers KmsAeadKey and KmsEnvelopeAeadKey.

This is a refactoring, it should not change the behavior of the public API.

The KMS clients are now stored in a global list in Python. So we don't
use the C++-wrapped KMS clients registration anymore. Note that we do still use the C++ KMS clients, and wrap them into Python clients.

The next step will be to implement the clients in Python.

PiperOrigin-RevId: 518294262
Change-Id: I95cddc294173a0172fcef5f74e1e2355850fbf31",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-21 09:24:17-07:00,25200,2023-03-21 09:25:45-07:00,25200,True,False,"['BUILD.bazel', '_aead_key_manager.py', '_kms_aead_key_manager.py', '_kms_aead_key_manager_test.py', 'BUILD.bazel', '_aws_kms_client.py', 'BUILD.bazel', '_gcp_kms_client.py', 'BUILD.bazel', 'fake_kms.py']",['3e5443bb1af4cfb93a59070f86fde9644c28863c'],17,359,376,10,0.7988826815642458,1.0,0.9776536312849162
316bc1293f7447b00e6142671e3b2bf0b2ba06b3,"Internal Code Change

PiperOrigin-RevId: 518495057
Change-Id: I7450712ecd5048a53e3e4bc3becf0dd66bc98c7f",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2023-03-22 00:51:45-07:00,25200,2023-03-22 00:53:04-07:00,25200,True,False,"['cc_jwt_config.h', 'cc_key_manager.h', 'cc_streaming_aead_wrappers.h', 'cc_tink_config.h', 'input_stream_adapter.h', 'output_stream_adapter.h']",['7b092ef85081bfba397de8b80365f920b4ab13f4'],18,18,36,6,,,
68b19b8bb0a9ce78280e440635de9d48fa4c7a61,"Rename _aws_kms_aead_test.py to _aws_kms_integration_test.py.

These are integration tests that make RPC calls to the real KMS. So it is better to put the word ""integration"" in the file name.

PiperOrigin-RevId: 518548866
Change-Id: I2b6b95aa6fea2f614911f3299b360b6ac30d6927",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-22 06:14:02-07:00,25200,2023-03-22 06:14:55-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'BUILD.bazel', '_aws_kms_integration_test.py']",['316bc1293f7447b00e6142671e3b2bf0b2ba06b3'],4,4,8,4,,,
beb3789bf1fb93016577b334cdde80d32021092a,"Allow key_uri=None parameter in gcpkms.GcpKmsClient.

Also, remove the registration test, because registration is tested in
_gcp_kms_integration_test.py.

And rewrite some other tests.

PiperOrigin-RevId: 518800724
Change-Id: I886983841c543fa8050220b896971d67f0e9527f",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-23 02:14:11-07:00,25200,2023-03-23 02:14:55-07:00,25200,True,False,"['_gcp_kms_client.py', '_gcp_kms_client_test.py']",['68b19b8bb0a9ce78280e440635de9d48fa4c7a61'],24,33,57,2,1.0,1.0,1.0
6c415a499993fa7f26b9761e9d1abff730a2cdf4,"Internal Code Change

PiperOrigin-RevId: 518816624
Change-Id: I0ec8c841d1ba17ec1913889ebb41e76478f1c56e",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2023-03-23 03:46:59-07:00,25200,2023-03-23 03:47:41-07:00,25200,True,False,"['python_file_object_adapter.h', 'python_input_stream.h', 'python_output_stream.h', 'test_util.h']",['beb3789bf1fb93016577b334cdde80d32021092a'],13,12,25,4,,,
b8644fcc8470b32e9bc9b218902cdc46879e3da8,"Refactor tests for AWS KMS integration in Python.

Make them similar to the GCP KMS integration tests.

Also,  move the test of the register function into the integration tests,
and check that register really worked.

PiperOrigin-RevId: 519666171
Change-Id: I77d4d3baa2720b8ac0a3a6fe253c42a41325f9ba",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-27 02:53:28-07:00,25200,2023-03-27 02:54:23-07:00,25200,True,False,"['BUILD.bazel', '_aws_kms_client_test.py', '_aws_kms_integration_test.py']",['6c415a499993fa7f26b9761e9d1abff730a2cdf4'],32,76,108,3,0.30434782608695654,1.0,1.0
d1a977582a73c2eca0a1fa879ad004fb7e1dad2c,"Fix bug in fake KMS implementation in Python.

does_support should always return False for other KMSs.

PiperOrigin-RevId: 519765775
Change-Id: I0fecceac2be247a4d73c1af296c68c4f1cd5b750",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-27 10:39:26-07:00,25200,2023-03-27 10:40:19-07:00,25200,True,False,"['fake_kms.py', 'fake_kms_test.py']",['b8644fcc8470b32e9bc9b218902cdc46879e3da8'],0,8,8,2,1.0,1.0,1.0
2394c18490f9da328fecf057052bd279fcf97ee1,"Add test using default credentials, and allow credential_path to be None.

PiperOrigin-RevId: 520027764
Change-Id: Iad0853892a07e7d59cdd515e33db3a7c4ec04e7a",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-28 07:56:42-07:00,25200,2023-03-28 07:57:54-07:00,25200,True,False,"['_gcp_kms_client.py', '_gcp_kms_client_integration_test.py']",['d1a977582a73c2eca0a1fa879ad004fb7e1dad2c'],4,29,33,2,0.15625,1.0,1.0
4732dae50118aa94eee09a1b7caa5e98371c6f6d,"Let AWS KMS integration in Python use boto3 instead of wrapping the C++ integration.

This should not change the behavior of the current API, it implements the same as
cc/integration/awskms/aws_kms_client.cc
in Python.

PiperOrigin-RevId: 520254665
Change-Id: Iddcf4c5d9c84694c24708b32cb58496c76716a1f",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-03-29 00:44:34-07:00,25200,2023-03-29 00:45:31-07:00,25200,True,False,"['requirements.in', 'requirements.txt', 'BUILD.bazel', '__init__.py', '_aws_kms_client.py', '_aws_kms_client_test.py']",['2394c18490f9da328fecf057052bd279fcf97ee1'],19,208,227,6,0.6446280991735537,1.0,0.7520661157024794
1e9d93d6ef32eeea81c3d2068939165c07aa7dec,"Remove wrapping of C++ fake KMS client.

This is not needed anymore, since the fake KMS client is now implemented in Python.

PiperOrigin-RevId: 521408438
Change-Id: Iadf61d82b1ad1d97cfcf07c499e455fdd66f73ce",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-03 03:06:59-07:00,25200,2023-04-03 03:08:03-07:00,25200,True,False,"['BUILD.bazel', 'cc_fake_kms_client_testonly.cc', 'cc_fake_kms_client_testonly.h', 'tink_bindings.cc']",['4732dae50118aa94eee09a1b7caa5e98371c6f6d'],98,1,99,4,1.0,0.0,0.0
b2c248aac5a1e03932f7151562b59297ada36846,"Add _kms_aead_key_manager.reset_kms_client function and refactor some tests.

This function is not part of the public API.

By calling reset_kms_client after each test, the tests that register clients don't have side-effects, which is preferable.

Also, move the tests that register GCP KMS clients into the same file, and always call register at the beginning of each test instead of these module setup.

PiperOrigin-RevId: 521430908
Change-Id: I9d1f7076ff1b37b07adc38f5821465362d67a2f9",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-03 05:21:59-07:00,25200,2023-04-03 05:22:49-07:00,25200,True,False,"['_kms_aead_key_manager.py', '_kms_aead_key_manager_test.py', '_gcp_kms_client_integration_test.py', '_gcp_kms_integration_test.py']",['1e9d93d6ef32eeea81c3d2068939165c07aa7dec'],45,76,121,4,0.0,1.0,1.0
db5e8eabe379ec41432a241c0d04e46de9720855,"Implement GCP KMS integration in Python, without wrapping C++ version.

PiperOrigin-RevId: 521439181
Change-Id: If410287106953071e43390c82c3e050b61d5a4f8",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-03 06:14:05-07:00,25200,2023-04-03 06:14:56-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'requirements.in', 'requirements.txt', 'BUILD.bazel', '_gcp_kms_client.py', '_gcp_kms_client_integration_test.py', '_gcp_kms_client_test.py']",['b2c248aac5a1e03932f7151562b59297ada36846'],20,310,330,9,0.6451612903225806,1.0,0.532258064516129
542bd197be61d34f03c874d902e3c514bed7c28c,"Remove AWS and GCP KMS wrapping of C++ code.

This is not needed anymore, as we are anow using Python implementations.

PiperOrigin-RevId: 521468455
Change-Id: I43a1c2be123233dd7c23c8d2f6ed7d5d3653cd1c",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-03 08:40:09-07:00,25200,2023-04-03 08:40:54-07:00,25200,True,False,"['BUILD.bazel', 'cc_aws_kms_client.cc', 'cc_aws_kms_client.h', 'cc_gcp_kms_client.cc', 'cc_gcp_kms_client.h', 'tink_bindings.cc']",['db5e8eabe379ec41432a241c0d04e46de9720855'],259,0,259,6,1.0,0.0,0.0
956f4646ce6f394d16fb214332ef77aeee7f285b,"Call reset_kms_client after each test in aws kms integration tests in Python.

PiperOrigin-RevId: 521675560
Change-Id: I74bb231990ef0277dad465669ad37c889013d658",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-03 23:58:52-07:00,25200,2023-04-03 23:59:37-07:00,25200,True,False,"['BUILD.bazel', '_aws_kms_integration_test.py']",['542bd197be61d34f03c874d902e3c514bed7c28c'],0,6,6,2,1.0,1.0,1.0
829f341b81650978618ca2a3f575d30197092261,"Avoid using bazelisk outside of a workspace in kokoro/testutils/run_bazel_tests.sh

PiperOrigin-RevId: 521689493
Change-Id: I29885add3a1eeccd8c580a951cfbda353bd79e1e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-04 01:17:25-07:00,25200,2023-04-04 01:18:03-07:00,25200,True,False,['run_bazel_tests.sh'],['956f4646ce6f394d16fb214332ef77aeee7f285b'],2,1,3,1,,,
396d89ca20959c293d17317b25c07d239942436d,"Allow AwsKmsClient in Python to use default credentials.

The old AwsKmsClient (based on C++ version) allowed default credentials by setting credentials_path = ''. The new version does not allow this anymore, which is a bug. This change fixes that bug.

The change also allows the parameters to be None and not just '', which is the pythonic way to pass optional parameters. And we also properly annotate them.

PiperOrigin-RevId: 522047566
Change-Id: I3b577267418a545650898195629a578ddd531b20",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-05 07:31:21-07:00,25200,2023-04-05 07:32:36-07:00,25200,True,False,"['_aws_kms_client.py', '_aws_kms_integration_test.py']",['829f341b81650978618ca2a3f575d30197092261'],13,27,40,2,1.0,1.0,1.0
c495950665e5c37676285a78f8d0dd0cb16aee88,"Remove public visibility from examples.

There is no reason anyone would run these from other targets.

#tinkApiChange Remove public visibility of build targets -- they were never intended to be public.

PiperOrigin-RevId: 523625552
Change-Id: I146d9b1c7aeadab6438048e5e6c5c0b7a6c0b6fc",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2023-04-12 00:43:36-07:00,25200,2023-04-12 00:44:41-07:00,25200,True,False,"['BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel']",['396d89ca20959c293d17317b25c07d239942436d'],12,12,24,12,,,
b36a72c6efd67758214e5a971e1a56f92423091e,"Remove dependency on tink-cc KMS extensions from tink-py

This is no longer needed because KMS extensions are now natively implemented in Python.

PiperOrigin-RevId: 524119016
Change-Id: If126b2aae4791382968052c8bf963764f85746b3",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-13 15:29:02-07:00,25200,2023-04-13 15:30:47-07:00,25200,True,False,"['WORKSPACE', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'tink_py_deps.bzl', 'tink_py_deps_init.bzl', 'build_linux_binary_wheels.sh']",['c495950665e5c37676285a78f8d0dd0cb16aee88'],65,37,102,17,,,
124ced47313659cadb775fec1d25a0cbbd6f2c96,"Update setup.py to account for the fact that tink-cc-{aws,gcp}kms are no longer dependencies.

PiperOrigin-RevId: 524229076
Change-Id: Ic6397797f0f5d3f67334fddfb3fc9a38b33f536c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-14 01:46:10-07:00,25200,2023-04-14 01:46:53-07:00,25200,True,False,['setup.py'],['b36a72c6efd67758214e5a971e1a56f92423091e'],62,20,82,1,1.0,0.0,0.0
f35107edf0ec224252cf524dc53009da9c96a34e,"Remove dependency on tink-cc-{aws,gcp}kms from tink-py examples.

PiperOrigin-RevId: 524249515
Change-Id: Iedd80efc06211c4fc4c1c11e02429ddfe016f319",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-14 03:44:48-07:00,25200,2023-04-14 03:45:38-07:00,25200,True,False,['WORKSPACE'],['124ced47313659cadb775fec1d25a0cbbd6f2c96'],24,0,24,1,,,
e67d6a32590d7fe5adfaccbf95896ffb8333f5b4,"Add kokoro scripts to create a GitHub release branch.

PiperOrigin-RevId: 524265530
Change-Id: I09b626e36bc19b0274a7e3249017ea42854c93a1",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-14 05:25:08-07:00,25200,2023-04-14 05:25:53-07:00,25200,True,False,"['create_github_release_branch.sh', 'BUILD.bazel', 'github_release_util.sh', 'github_release_util_test.sh', 'test_utils.sh']",['f35107edf0ec224252cf524dc53009da9c96a34e'],0,941,941,5,,,
d4d026c205dfc21d0347cbad41b7e46f83a564d5,"Add kokoro script to create a GitHub release tag.

PiperOrigin-RevId: 524276443
Change-Id: I7dec4fafc280dc3d881382796bdfe4ea141d3d53",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-14 06:32:50-07:00,25200,2023-04-14 06:33:43-07:00,25200,True,False,['create_github_release_tag.sh'],['e67d6a32590d7fe5adfaccbf95896ffb8333f5b4'],0,71,71,1,,,
137c498f8371a5392aed3ebdf0cfe177f11d499c,"Fix typo in release scripts

PiperOrigin-RevId: 524821068
Change-Id: Ib90d347dd3df82ca3e1e6108dbcc14f2674c874f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-17 05:33:28-07:00,25200,2023-04-17 05:34:17-07:00,25200,True,False,"['create_github_release_branch.sh', 'create_github_release_tag.sh']",['d4d026c205dfc21d0347cbad41b7e46f83a564d5'],4,4,8,2,,,
ea469d7594b320e5fc68e11fdf0c2f6a3f827b72,"Make sure Kokoro injected RELEASE_VERSION coincides with the value in VERSION when finalizing tink-py's release.

This extra check helps making sure the value in VERSION is correct.

PiperOrigin-RevId: 524929331
Change-Id: Ib57481b0b755a9807bac724ea17345a1ca1daaec",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-17 13:11:46-07:00,25200,2023-04-17 13:12:17-07:00,25200,True,False,['create_github_release_tag.sh'],['137c498f8371a5392aed3ebdf0cfe177f11d499c'],3,13,16,1,,,
28f6ce5c265243c0f8bd28e634036886e9280679,"Add script to release tink-py binary and source distributions to PyPi.

PiperOrigin-RevId: 525068819
Change-Id: If996dc77a5f9df87ec56dad8980f952f8841ea9e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-18 00:48:34-07:00,25200,2023-04-18 00:49:16-07:00,25200,True,False,['release_on_pypi.sh'],['ea469d7594b320e5fc68e11fdf0c2f6a3f827b72'],0,132,132,1,,,
67fe93cbeb1b601a82dbbfffc6239479cf106b54,"Update Tink contributors list.

PiperOrigin-RevId: 525238188
Change-Id: Iabf4399ce6d5d126b6acab8f8e129f3fd2cf41c5",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-18 13:36:50-07:00,25200,2023-04-18 13:37:46-07:00,25200,True,False,['README.md'],['28f6ce5c265243c0f8bd28e634036886e9280679'],5,6,11,1,,,
729e99bebcb2fc2bc4b17f3f7f4c1fe47536b134,"Reject other key URIs in GCP KMS integration in Python.

If the KmsClient is bound to a key URI, it should reject all other key URIs.

PiperOrigin-RevId: 525378446
Change-Id: If7a59e1f4d713385e67b6cf64bfd1185be745eb6",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-19 01:30:00-07:00,25200,2023-04-19 01:30:48-07:00,25200,True,False,"['BUILD.bazel', '_gcp_kms_client.py', '_gcp_kms_client_integration_test.py']",['67fe93cbeb1b601a82dbbfffc6239479cf106b54'],10,40,50,3,0.18181818181818182,1.0,1.0
a85d1a47940e418c17a9a138bc676357e50e8b9e,"Document how Tink handles associatedData='' in AES SIV.

AES SIV allows the user to import a list of associated datas, but Tink only uses a single associated data in its interface. When the user inputs an empty associated data byte sequence, Tink will handle this as a list of one empty byte sequence, and not as an empty list.

PiperOrigin-RevId: 527491521
Change-Id: I1dab50dea6e333545654280d68951826b7401204",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-27 00:02:20-07:00,25200,2023-04-27 00:05:24-07:00,25200,True,False,['aes_siv.proto'],['729e99bebcb2fc2bc4b17f3f7f4c1fe47536b134'],0,8,8,1,,,
62aed143eb3c866ed468acf08c246b8552930b3e,"Fix format of kokoro/testutils/BUILD.bazel

This is done using Bazel's buildifier tool [1]

[1] https://github.com/bazelbuild/buildtools/blob/master/buildifier/README.md

PiperOrigin-RevId: 527558830
Change-Id: I4660b64bf54fb2c51f8be7c922eccc24b9106ddc",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-27 06:22:31-07:00,25200,2023-04-27 06:23:42-07:00,25200,True,False,['BUILD.bazel'],['a85d1a47940e418c17a9a138bc676357e50e8b9e'],4,4,8,1,,,
1474e3d75249047d903bb1b2ca7307819af01511,"Fix protoc discovery.

PiperOrigin-RevId: 527809046
Change-Id: Ie507425d94c0f9836a4c9c476fbd8bbe3c38cd76",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-04-28 00:47:19-07:00,25200,2023-04-28 00:48:17-07:00,25200,True,False,['setup.py'],['62aed143eb3c866ed468acf08c246b8552930b3e'],7,7,14,1,1.0,1.0,1.0
a26173a09e11cf07c48468e20c6df6cce758d2c2,"Document support for 3.10 in the package classifiers.

PiperOrigin-RevId: 527815662
Change-Id: I2d37fd9b4ef501e4bef6d485d43f74a565be8529",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-04-28 01:25:26-07:00,25200,2023-04-28 01:26:16-07:00,25200,True,False,['setup.py'],['1474e3d75249047d903bb1b2ca7307819af01511'],0,1,1,1,0.0,1.0,1.0
d49075ca4047320e6ecc325149fed0f34c2ee56d,"Encode integers as integers in JWT payload.

- add tests in C++, Go and Python that these languages already do this.
- overload the addNumberClaim so that this also works in Java.

PiperOrigin-RevId: 528083180
Change-Id: Ica7acf9950558a0c0cb181117ba3b559d586b0bc",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-04-28 23:26:56-07:00,25200,2023-04-28 23:28:01-07:00,25200,True,False,['_raw_jwt_test.py'],['a26173a09e11cf07c48468e20c6df6cce758d2c2'],0,6,6,1,1.0,1.0,1.0
f279c7e916d8c57bf3d737177a52b62011ce39ff,"Exit with error when copying credentials if env. variables are not set.

PiperOrigin-RevId: 528176304
Change-Id: Ia57686de296c8d8dff4b9b4c9533645b39d2f59b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-04-29 14:11:56-07:00,25200,2023-04-29 14:12:48-07:00,25200,True,False,['copy_credentials.sh'],['d49075ca4047320e6ecc325149fed0f34c2ee56d'],0,10,10,1,,,
5ac84753594361fdcf315a4119164e03039ba498,"Add Python macOS continuous/presubmit jobs to verify release artifact creation.

PiperOrigin-RevId: 529098938
Change-Id: I18996c044d8b300a08724491e2de129e32c1b361",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-05-03 08:32:22-07:00,25200,2023-05-03 08:34:02-07:00,25200,True,False,['run_tests.sh'],['f279c7e916d8c57bf3d737177a52b62011ce39ff'],0,41,41,1,,,
559176c9870fe5a490b6327790ff956cedf13ab4,"Add requirements file for tink-py release for release script.

PiperOrigin-RevId: 531485171
Change-Id: Iab699903d369c9dcff3345a86ab0f1e2d47f83fc",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-05-12 06:04:40-07:00,25200,2023-05-12 06:08:50-07:00,25200,True,False,"['release_on_pypi.sh', 'release_requirements.in', 'release_requirements.txt']",['5ac84753594361fdcf315a4119164e03039ba498'],1,283,284,3,,,
52a65e59dc0b471303c209c8621bbc1de7903f02,"Implement a key commitment integration test.

PiperOrigin-RevId: 534929793
Change-Id: Id9c43ce601246b60d8f1e930fdd6cf7239100623",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-05-24 11:57:21-07:00,25200,2023-05-24 12:03:25-07:00,25200,True,False,['_aws_kms_integration_test.py'],['559176c9870fe5a490b6327790ff956cedf13ab4'],0,67,67,1,0.0,1.0,1.0
96761a1ca61226a50d1483acd2b65f74ed04c652,"Copybara import of the project:

--
0c44d38c45997e303717e4ef41dad0f0e242a96a by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump requests from 2.30.0 to 2.31.0 in /kokoro

Bumps [requests](https://github.com/psf/requests) from 2.30.0 to 2.31.0.
- [Release notes](https://github.com/psf/requests/releases)
- [Changelog](https://github.com/psf/requests/blob/main/HISTORY.md)
- [Commits](https://github.com/psf/requests/compare/v2.30.0...v2.31.0)

---
updated-dependencies:
- dependency-name: requests
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 537834540
Change-Id: Idfe2b159d5baf91e1f8df50f68eb544b72b07aff",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-06-05 04:31:20-07:00,25200,2023-06-05 04:33:46-07:00,25200,True,False,['release_requirements.txt'],['52a65e59dc0b471303c209c8621bbc1de7903f02'],4,4,8,1,,,
1ed479a600c79d1623186766d4d9518ec58ac342,"Copybara import of the project:

--
4dc279cf4bf26160adc42bcba3bcb3717a9a5524 by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump requests from 2.28.1 to 2.31.0

Bumps [requests](https://github.com/psf/requests) from 2.28.1 to 2.31.0.
- [Release notes](https://github.com/psf/requests/releases)
- [Changelog](https://github.com/psf/requests/blob/main/HISTORY.md)
- [Commits](https://github.com/psf/requests/compare/v2.28.1...v2.31.0)

---
updated-dependencies:
- dependency-name: requests
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 538105391
Change-Id: I8db21dd8980ef4648bd8fd1296a893a03e0ade56",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-06-06 01:08:54-07:00,25200,2023-06-06 01:09:42-07:00,25200,True,False,"['requirements.txt', 'release_requirements.txt', 'requirements.txt']",['96761a1ca61226a50d1483acd2b65f74ed04c652'],14,14,28,3,,,
071a95ee3b9fd9e31870702f9d8c9b10f42c69cd,"Fixes to tink-py requirement files

 - Use less restrictive constraints for tink-py deps (google/tink#695) and examples
 - Remove `constraints.in`
 - Upgrade dependencies in `requirements.txt` and `examples/requirements.txt`
 - Use `--require-hashes` when installing `examples/requirements.txt`

PiperOrigin-RevId: 538165507
Change-Id: I89a312de5db96f8694b151d53beec2461528c90e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-06 06:36:00-07:00,25200,2023-06-06 06:36:40-07:00,25200,True,False,"['constraints.in', 'requirements.in', 'requirements.txt', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'requirements.in', 'requirements.txt']",['1ed479a600c79d1623186766d4d9518ec58ac342'],171,240,411,9,,,
4d91813e275d98ffbc033d98fca802993eef8110,"Refactor install_tink_via_pip

 * Modify the script to take as a second parameter the folder where to look for Tink Python's dependencies; this is mostly useful to github.com/tink-crypto/tink-py where Tink Python's dependencies aren't in the same repository.
 * Remove the need to pin `setuptools` in macOS.
 * Install dependencies from `requirements.txt` before installing Tink Python and use `--require-hashes`.
 * Some other minor refactorings.
 * Update call sites accordingly

PiperOrigin-RevId: 538170951
Change-Id: I51a9c28067ed7596bd53a8a8e0d97839e2299161",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-06 07:04:07-07:00,25200,2023-06-06 07:05:04-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'install_tink_via_pip.sh']",['071a95ee3b9fd9e31870702f9d8c9b10f42c69cd'],41,67,108,7,,,
a66c167d543e6e2b7d0ff6522bfa56fe5817633a,"Remove client-side decryption key ID verification in Python.

This isn't necessary since it duplicates the server side check done when the
KeyID is included in the decryption request.

This also enables support for using key aliases.

PiperOrigin-RevId: 538511498
Change-Id: Ida2b6571ce9670f929afdec423ca85cb01395bdb",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-06-07 09:32:00-07:00,25200,2023-06-07 09:33:17-07:00,25200,True,False,"['_aws_kms_client.py', '_aws_kms_client_test.py', '_aws_kms_integration_test.py']",['4d91813e275d98ffbc033d98fca802993eef8110'],5,22,27,3,1.0,1.0,1.0
1b03a57e0bfa0145cec7da642dbddd04942e1fc6,"Run tink-py GCP Ubuntu tests on containers

PiperOrigin-RevId: 538708981
Change-Id: I639818ebf3bcc5dc28f6bb33b600005b183ac287",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-08 00:41:23-07:00,25200,2023-06-08 00:42:26-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_command.sh']",['a66c167d543e6e2b7d0ff6522bfa56fe5817633a'],129,525,654,7,,,
3a9af108e6fad0a9c2109fd01398acd469da1fb5,"Fix Tink dependency location specified in the Python sdist.

PiperOrigin-RevId: 539706681
Change-Id: Ie6b1faabfe1d6843cf95797d732d1e9ce231345a",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-06-12 11:08:22-07:00,25200,2023-06-12 11:09:54-07:00,25200,True,False,['create_release.sh'],['1b03a57e0bfa0145cec7da642dbddd04942e1fc6'],2,15,17,1,,,
5c502b808928500cc348cdc146a639cffeb07bcb,"Upgrade requirements.txt using pip-compile ... --upgrade

PiperOrigin-RevId: 539905671
Change-Id: Ib8635615680045d113ce0d613251f6fee9541314",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-13 02:54:33-07:00,25200,2023-06-13 02:55:17-07:00,25200,True,False,['requirements.txt'],['3a9af108e6fad0a9c2109fd01398acd469da1fb5'],9,9,18,1,,,
8933ac362a37601c6f93f5af2ae4fc2bd1e07ab6,"Refactor setup.py and remove TINK_PYTHON_SETUPTOOLS_OVERRIDE_TAGGED_VERSION variable

TINK_PYTHON_SETUPTOOLS_OVERRIDE_TAGGED_VERSION is redundant. To test the building with an arbitrary tink-cc version one can simply clone it and use TINK_PYTHON_SETUPTOOLS_OVERRIDE_BASE_PATH to point to it.

PiperOrigin-RevId: 539921190
Change-Id: I74823045bd63ac996f6861421a1617a5e987ff8f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-13 04:24:02-07:00,25200,2023-06-13 04:24:56-07:00,25200,True,False,['setup.py'],['5c502b808928500cc348cdc146a639cffeb07bcb'],78,37,115,1,0.7906976744186046,0.0,0.0
e273685ceafca14e8c2259985a6d38962107aeab,"Set TINK_PYTHON_SETUPTOOLS_OVERRIDE_BASE_PATH from create_release.sh

This is needed to later give the caller the option of building the binary wheel without overriding the WORKSPACE file.

PiperOrigin-RevId: 539928659
Change-Id: Ia0e2170771f834831b15cb7f538f2af44bb3359c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-13 05:06:14-07:00,25200,2023-06-13 05:07:05-07:00,25200,True,False,"['build_linux_binary_wheels.sh', 'create_release.sh']",['8933ac362a37601c6f93f5af2ae4fc2bd1e07ab6'],11,13,24,2,,,
3dac44a9347a95ddfeecfae61f1e710a95e9fd1c,"Add test script for Tink Python on Windows

PiperOrigin-RevId: 540230009
Change-Id: I6ee658a69f760844e204de058f9d22ed82f86489",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-14 04:25:22-07:00,25200,2023-06-14 04:26:37-07:00,25200,True,False,['run_tests.bat'],['e273685ceafca14e8c2259985a6d38962107aeab'],0,35,35,1,,,
7c349d9f55d4e076c71a0da97f502dfd22711a9f,"Update KmsEnvelopeAeadTests in Python.

- Test all supported Tink AEAD key types as DEK.
- Test invalid associated data.
- Replace unused variables with _.
- Update comment in the test that checks the wire format is correct.

PiperOrigin-RevId: 540266669
Change-Id: I150c9db3f1b6cd9c5fac2f4bc1442839f72c96f1",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-06-14 07:37:28-07:00,25200,2023-06-14 07:38:39-07:00,25200,True,False,['_kms_envelope_aead_test.py'],['3dac44a9347a95ddfeecfae61f1e710a95e9fd1c'],18,35,53,1,1.0,1.0,1.0
794aa9d2e3d279e1729b4b3f1c30d3a7ff4042b9,"Update pybind11_bazel to the latest commit from May 3rd, 2023

PiperOrigin-RevId: 540380438
Change-Id: Icd5fe70613e1ad06f6063707c407f80113c0bb4e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-14 14:27:28-07:00,25200,2023-06-14 14:28:32-07:00,25200,True,False,['tink_py_deps.bzl'],['7c349d9f55d4e076c71a0da97f502dfd22711a9f'],4,4,8,1,,,
33c04a30d65a7d9679456ef756a633bab11903f2,"Use TINK_PYTHON_SETUPTOOLS_OVERRIDE_BASE_PATH to patch WORKSPACE file in create_release.sh

PiperOrigin-RevId: 540518314
Change-Id: Ia8c6e5bf8c39c346b3a81b9ba79c2616fbbd24aa",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-15 02:38:56-07:00,25200,2023-06-15 02:39:54-07:00,25200,True,False,['create_release.sh'],['794aa9d2e3d279e1729b4b3f1c30d3a7ff4042b9'],11,4,15,1,,,
cc77f057d03d5f8bb2b0c313f5de956697d15cce,"Use pybind11_bazel rules and remove custom rules in tools/build_defs/tink_python_rules.py

PiperOrigin-RevId: 540800924
Change-Id: Ic3515a78d6625b6fe65016b5aa877ba9248e49ce",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-16 00:31:36-07:00,25200,2023-06-16 00:33:08-07:00,25200,True,False,"['BUILD.bazel', 'BUILD.bazel', 'BUILD.bazel', 'tink_python_rules.bzl']",['33c04a30d65a7d9679456ef756a633bab11903f2'],157,71,228,4,,,
7fec960c74d7beece12420a385e46c86b7cddb2d,"Split create_release.sh into create_sdist.sh and create_bdist.sh

Also give the option to specify whether the tink-cc dependency should be a local one or not (`-l` option).

A subsequent change will run create_sdist.sh within a container.

PiperOrigin-RevId: 541543764
Change-Id: I0384ce89761c2c9a6df15cedcd787d84fd37ae4d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-19 00:45:33-07:00,25200,2023-06-19 00:46:32-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'release_on_pypi.sh', 'create_bdist.sh', 'create_sdist.sh']",['cc77f057d03d5f8bb2b0c313f5de956697d15cce'],77,164,241,5,,,
dbad789db222a42ef0ea52030948fd522f83ee9e,"Run create_sdist.sh inside a container in Kokoro GCP Ubuntu release test

PiperOrigin-RevId: 541901237
Change-Id: I99e6f47fbe2c8941221f99c13eaadc3ef3500546",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-20 06:38:14-07:00,25200,2023-06-20 06:40:17-07:00,25200,True,False,['run_tests.sh'],['7fec960c74d7beece12420a385e46c86b7cddb2d'],9,37,46,1,,,
d8adb340332a77189ce2ab943de218ca8a8cffd1,"Restrict KMS envelope AEAD to only use Tink AEAD key types as DEK.

KMS Envelope AEAD is a simple way to encrypt data. So using custom
implementations of AEAD is not needed for this.

This also prevents the user from using the envelope encryption key type as DEK by accident.

This change will help us simplify our implementation of KMS Envelope AEAD,
because we will be able to remove the dependency on Tink's Registry.

PiperOrigin-RevId: 542549805
Change-Id: I074112ebfa036f337b1582dc89fb5f823ee6a669",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-06-22 07:13:06-07:00,25200,2023-06-22 07:14:53-07:00,25200,True,False,"['_aead_key_manager_test.py', '_kms_envelope_aead.py']",['dbad789db222a42ef0ea52030948fd522f83ee9e'],11,58,69,2,1.0,1.0,0.8620689655172413
dd44fbc73df1e67f67d530a19c8e2630e64362cd,"Fix some lint errors in _aead_key_templates.py

PiperOrigin-RevId: 543405912
Change-Id: I06f8b551d849d949e8ed565d658ed14384536039",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-06-26 05:07:04-07:00,25200,2023-06-26 05:09:39-07:00,25200,True,False,['_aead_key_templates.py'],['d8adb340332a77189ce2ab943de218ca8a8cffd1'],33,38,71,1,0.6,1.0,0.6
09f1bfdf52824e85ffb39f92bd77a2b6ce991af7,"Let KMS envelope key manager reject invalid DEK templates.

PiperOrigin-RevId: 543424290
Change-Id: I91571fc417a74427fd6ad5b9d4d9ef21fac003b9",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-06-26 06:48:11-07:00,25200,2023-06-26 06:49:05-07:00,25200,True,False,"['_aead_key_manager_test.py', '_kms_aead_key_manager.py', '_kms_envelope_aead.py']",['dd44fbc73df1e67f67d530a19c8e2630e64362cd'],12,20,32,3,0.0,1.0,1.0
03c7029a1b474334ef5fc0bbe50f86ba74a0110a,"Add option to overwrite the version to use for sdist and bdist using an env variable

PiperOrigin-RevId: 543451353
Change-Id: I6f40b40b360c793f322d47085ba6b7e7be2d2b9c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-26 08:51:53-07:00,25200,2023-06-26 08:53:05-07:00,25200,True,False,['setup.py'],['09f1bfdf52824e85ffb39f92bd77a2b6ce991af7'],2,15,17,1,0.0,1.0,1.0
9713ec4ad8228b0923acb10a408b2c84ac92ba8f,"Allow generating development artifacts for testing when not in a release job.

PiperOrigin-RevId: 543458275
Change-Id: I94b5172eb5f2a24c7c3775f986d9a218835ca40d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-26 09:21:37-07:00,25200,2023-06-26 09:23:35-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'create_bdist.sh', 'create_sdist.sh']",['03c7029a1b474334ef5fc0bbe50f86ba74a0110a'],13,76,89,4,,,
fb1f6717460eb7d58320e23a6a0bc7f1568993ee,"Remove definition of readonly TINK_VERSION and TINK_CC_USE_LOCAL

PiperOrigin-RevId: 543480284
Change-Id: I1320c58ba97176eb60cd58b97adfa641b2176ada",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-26 10:40:39-07:00,25200,2023-06-26 10:41:33-07:00,25200,True,False,['create_bdist.sh'],['9713ec4ad8228b0923acb10a408b2c84ac92ba8f'],3,1,4,1,,,
801b779ef4bf89d9d2d660a4cc41f096cdce7287,"Fix lint errors in some Python key template functions.

PiperOrigin-RevId: 543684366
Change-Id: Iacbc5ccec3b627044b66c1975d34eeffba317ad6",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-06-27 02:39:30-07:00,25200,2023-06-27 02:40:46-07:00,25200,True,False,"['_deterministic_aead_key_templates.py', '_hybrid_key_templates.py', '_mac_key_templates.py', '_prf_key_templates.py', '_streaming_aead_key_templates.py']",['fb1f6717460eb7d58320e23a6a0bc7f1568993ee'],31,38,69,5,0.8571428571428571,1.0,0.5714285714285714
2e99b9e96899571fa97f2ad7a3f400caf9961c6f,"Build macOS bdist on a temp dir and copy only the Tink wheel to release/

PiperOrigin-RevId: 543979953
Change-Id: I03baccccc8f19685920882dc3dbf5a26618f1bf4",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-28 01:06:58-07:00,25200,2023-06-28 01:08:05-07:00,25200,True,False,['create_bdist.sh'],['801b779ef4bf89d9d2d660a4cc41f096cdce7287'],3,6,9,1,,,
2c5dcbc7c1d0f26f83092db5fd9fd62d3335fd9f,"Install latest Python if not available when building wheels for macOS

PiperOrigin-RevId: 544446805
Change-Id: I406c4f0e416abb6dc121cdf3908e0add087f3b12",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-06-29 13:30:40-07:00,25200,2023-06-29 13:35:51-07:00,25200,True,False,['create_bdist.sh'],['2e99b9e96899571fa97f2ad7a3f400caf9961c6f'],11,14,25,1,,,
9596401c5908dd8ec2079c532dc4e7b25020aefc,"Allow specifying MACOSX_DEPLOYMENT_TARGET when building for macOS

By default artifacts generated on macOS with `pip wheel .` use the default macOS version that is specified by Xcode.
Set 10.9 as the target min OS version in Kokoro test scripts.

PiperOrigin-RevId: 545227182
Change-Id: I2365d8e22e28937ad6ce8bb7236dbc091530ba54",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-03 08:24:09-07:00,25200,2023-07-03 08:25:18-07:00,25200,True,False,"['setup.py', 'create_bdist.sh']",['2c5dcbc7c1d0f26f83092db5fd9fd62d3335fd9f'],1,20,21,2,0.0,0.0,1.0
352df068356296c9edd7a7ebee9c0631d9da8510,"Install and test the generated binary wheel on macOS

PiperOrigin-RevId: 545227507
Change-Id: I1c17a10a165c781f2c2ba96c467e430f3a70189b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-03 08:26:03-07:00,25200,2023-07-03 08:26:54-07:00,25200,True,False,['create_bdist.sh'],['9596401c5908dd8ec2079c532dc4e7b25020aefc'],5,7,12,1,,,
fe5c823166b78dc01dfaac39aa5e3ab1905ce87d,"Add test that shows that the Aead object returned by tink.KmsEnvelopeAead is compatible with the Aead generated using create_kms_envelope_aead_key_template.

At the same time, clean-up some of the other tests.

PiperOrigin-RevId: 545411901
Change-Id: I0151434a5b943bef14ef4f064ff1e5c8d34b4258",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-07-04 04:49:18-07:00,25200,2023-07-04 04:49:59-07:00,25200,True,False,"['BUILD.bazel', '_kms_envelope_aead_test.py']",['352df068356296c9edd7a7ebee9c0631d9da8510'],31,49,80,2,0.0,1.0,1.0
7c6d816a4e124180ef180a9024148efc282f1a62,"Make sure only local packages get installed when testing macOS wheels

PiperOrigin-RevId: 545661128
Change-Id: I8cfe48e6f567d907f97173df2abee714f3254154",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-05 07:18:57-07:00,25200,2023-07-05 07:20:38-07:00,25200,True,False,['create_bdist.sh'],['fe5c823166b78dc01dfaac39aa5e3ab1905ce87d'],1,3,4,1,,,
83e312e59854f5865462ae6ea2d6dc8d3d2b1dfc,"Add com_github_tink_crypto_tink_go*_v2 to kokoro/testutils/replace_http_archive_with_local_repository.py

PiperOrigin-RevId: 545909735
Change-Id: I3c40288300ab9293ff76d7cce9373c487500d536",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-06 01:34:51-07:00,25200,2023-07-06 01:35:50-07:00,25200,True,False,['replace_http_archive_with_local_repository.py'],['7c6d816a4e124180ef180a9024148efc282f1a62'],0,3,3,1,,,
a106a4ec60d962663b1ab9f12a1bb59b0e7048d6,"Move Linux Python container images to a common testutils script

PiperOrigin-RevId: 545928590
Change-Id: I64badc71dcd684436b907586112cc91a0b8f7cb5",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-06 02:55:52-07:00,25200,2023-07-06 02:56:42-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'tink_test_container_images.sh']",['83e312e59854f5865462ae6ea2d6dc8d3d2b1dfc'],28,74,102,8,,,
193a36405175299aab8ec0487699956c4fbc1bff,"Remove non-CC container images from tink_test_container_images.sh

Also rename tink_test_container_images.sh to cc_test_container_images.sh

PiperOrigin-RevId: 545946513
Change-Id: I4499912fae6097d00fe01014516eaf54c57570f5",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-06 04:30:58-07:00,25200,2023-07-06 04:32:03-07:00,25200,True,False,['tink_test_container_images.sh'],['a106a4ec60d962663b1ab9f12a1bb59b0e7048d6'],17,0,17,1,,,
52bec69d5e0479e1293f51bababab294edf44b22,"Remove non-Python container images from tink_test_container_images.sh

Also rename tink_test_container_images.sh to py_test_container_images.sh

PiperOrigin-RevId: 545958513
Change-Id: I5d12a0f7ed4e8ed2298896f2f47e9f8c2493e882",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-06 05:36:00-07:00,25200,2023-07-06 05:36:48-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'py_test_container_images.sh', 'tink_test_container_images.sh']",['193a36405175299aab8ec0487699956c4fbc1bff'],43,36,79,9,,,
0cc3a5bad54af4cedfd962e3fd6023fb8aeddcd0,"Include .bazelversion in MANIFEST.in

Without it, when used, bazelisk will download and use the latest Bazel available.

PiperOrigin-RevId: 546243630
Change-Id: I53328b732a7095e175ae3e999b1bbc0b63e78e7a",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-07 04:36:08-07:00,25200,2023-07-07 04:37:12-07:00,25200,True,False,['MANIFEST.in'],['52bec69d5e0479e1293f51bababab294edf44b22'],0,1,1,1,,,
d16aa4ca8c22eceb5fc2b90c9d7a04dc1ae36271,"Copybara import of the project:

--
b2de4b876528be98ddf75fbe3b9194b7971be10c by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump cryptography from 40.0.2 to 41.0.0 in /kokoro

Bumps [cryptography](https://github.com/pyca/cryptography) from 40.0.2 to 41.0.0.
- [Changelog](https://github.com/pyca/cryptography/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pyca/cryptography/compare/40.0.2...41.0.0)

---
updated-dependencies:
- dependency-name: cryptography
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 546248717
Change-Id: Ie694dd70afc713a72dfad3833a99d3c079c7272b",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-07-07 05:06:45-07:00,25200,2023-07-07 05:07:51-07:00,25200,True,False,['release_requirements.txt'],['0cc3a5bad54af4cedfd962e3fd6023fb8aeddcd0'],21,21,42,1,,,
7a9cf469431bfad8183f2d03792d28fd57a3da1e,"chore: Improvements to Linux bdist script

 * Use Bazelisk instead of Bazel. Bazelisk takes care of using the correct version of Bazel using .bazelversion
 * Install protoc 21.12
 * Verify SHA256 when installing protoc and Bazelisk
 * Remove unneeded call to `bazel clean --expunge`, since this is done as a first step by setup.py

PiperOrigin-RevId: 546261721
Change-Id: I219fa60aaf7bbaa77e438070b2511947c94f0ecb",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-07 06:19:28-07:00,25200,2023-07-07 06:20:15-07:00,25200,True,False,['build_linux_binary_wheels.sh'],['d16aa4ca8c22eceb5fc2b90c9d7a04dc1ae36271'],19,16,35,1,,,
a55a7f05bc79ecd08a87473ebb8436ffece0f755,"Small fixes in python JWT examples.

PiperOrigin-RevId: 547437927
Change-Id: Ie269410e31ea858ae419ca6f824eef369ffffce9",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-07-12 02:39:16-07:00,25200,2023-07-12 02:41:59-07:00,25200,True,False,"['jwt_generate_public_jwk_set.py', 'jwt_verify.py']",['7a9cf469431bfad8183f2d03792d28fd57a3da1e'],5,6,11,2,0.0,0.0,1.0
62bf1b701e8dd8e8d48897b0c5d27b94b81a5e82,"Simplify Python examples that use a KMS

Avoid registering the GcpKmsClient and directly create aead.KmsEnvelopeAead.

PiperOrigin-RevId: 547496577
Change-Id: I2250764d54e7521f0e367b0efe4373e895d69d2d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-12 08:02:11-07:00,25200,2023-07-12 08:03:23-07:00,25200,True,False,"['encrypted_keyset.py', 'envelope.py', 'gcs_envelope_aead.py']",['a55a7f05bc79ecd08a87473ebb8436ffece0f755'],51,57,108,3,0.0,0.0,1.0
0ed5bb8437f73ecba7a8642aef6527f96e17819c,"Simplify JWT example in Python.

Register should always work, when it fails it's a bug, so it's better to not catch that exception.

PiperOrigin-RevId: 547728738
Change-Id: Ib78dbedfebedc29fbd14844415eb44df8bb5d83d",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-07-13 02:09:51-07:00,25200,2023-07-13 02:10:48-07:00,25200,True,False,"['jwt_generate_public_jwk_set.py', 'jwt_sign.py', 'jwt_verify.py']",['62bf1b701e8dd8e8d48897b0c5d27b94b81a5e82'],15,3,18,3,1.0,0.3333333333333333,0.0
4db2bc0e19ba7bc449d26dc550fd14c2fea8b241,"Refer to developer site for contributing.

PiperOrigin-RevId: 547775798
Change-Id: If04711dedbdd723bf87a66aa02c98da50c2e53f8",Stefan Kölbl,kste@google.com,Copybara-Service,copybara-worker@google.com,2023-07-13 06:14:09-07:00,25200,2023-07-13 06:14:53-07:00,25200,True,False,['CONTRIBUTING.md'],['0ed5bb8437f73ecba7a8642aef6527f96e17819c'],26,3,29,1,,,
fbfe5453f63c2b30c8af384d3c6f55c46173fbde,"Allow building Python wheels for aarch64 Linux

Also use a more recent Manylinux image for x84_64.

PiperOrigin-RevId: 547801596
Change-Id: I5434e84842f6dd9cddb7a3439187265f4e8588e1",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-13 07:57:35-07:00,25200,2023-07-13 07:58:24-07:00,25200,True,False,"['run_tests.sh', 'build_linux_binary_wheels.sh', 'create_bdist.sh']",['4db2bc0e19ba7bc449d26dc550fd14c2fea8b241'],15,42,57,3,,,
8ef2caf4bfba75908d30f5cc072c4aef5867c987,"Use the correct wheel name when testing on ARM64

PiperOrigin-RevId: 548089740
Change-Id: Ie1ddc8f5cc5d634e0a4c4ebad892e2811e923c19",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-14 04:34:43-07:00,25200,2023-07-14 04:35:47-07:00,25200,True,False,['test_linux_binary_wheels.sh'],['fbfe5453f63c2b30c8af384d3c6f55c46173fbde'],3,9,12,1,,,
8ea7c4fe2d3ff9166f32d4f5280cdd2d452c35ee,"Install Tink wheel dependencies from requirements.txt when testing

PiperOrigin-RevId: 548690159
Change-Id: I91424c1e83a6d41b75d654154da99a72a713f01b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-17 07:55:03-07:00,25200,2023-07-17 07:56:15-07:00,25200,True,False,['test_linux_binary_wheels.sh'],['8ef2caf4bfba75908d30f5cc072c4aef5867c987'],1,2,3,1,,,
9f6a20ede9c049b6f2d3c4ef2a3769d074ac9424,"Skip tests in tink/integration/gcpkms on manylinux2014_aarch64.

These currently fail with
```
ImportError: /opt/python/cp310-cp310/lib/python3.10/site-packages/grpc/_cython/cygrpc.cpython-310-aarch64-linux-gnu.so: undefined symbol: _ZTVNSt7__cxx1119basic_ostringstreamIcSt11char_traitsIcESaIcEEE
```

See https://github.com/grpc/grpc/issues/33734.

PiperOrigin-RevId: 548699295
Change-Id: Id9fa8e9c3f3c5bfd28c82df8e32bd33be467b8c8",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-17 08:28:39-07:00,25200,2023-07-17 08:29:38-07:00,25200,True,False,['test_linux_binary_wheels.sh'],['8ea7c4fe2d3ff9166f32d4f5280cdd2d452c35ee'],1,10,11,1,,,
3793d76b3fc782eb93fa94997c04232d0fd8c3e2,"Restructure tink-py WORKSPACE:

 - Add tink_cc as http_archive to tink_py_deps.bzl
 - Move calls tink_cc's tink_cc_deps() and tink_cc_deps_init() to tink_py_deps_init()
 - Update `rules_pyton` and use `pip_parse`

As a consequence, Bazel users of tink-py would have to include the following in their WORKSPACE file:

```

http_archive(
    name = ""tink_py"",
    urls = [""https://github.com/tink-crypto/tink-py/...""],
    strip_prefix = ""tink-py-..."",
)

load(""@tink_py//:tink_py_deps.bzl"", ""tink_py_deps"")

tink_py_deps()

load(""@tink_py//:tink_py_deps_init.bzl"", ""tink_py_deps_init"")

tink_py_deps_init(""tink_py"")

load(""@tink_py_pip_deps//:requirements.bzl"", tink_py_install_pypi_deps=""install_deps"")

tink_py_install_pypi_deps()
```

PiperOrigin-RevId: 549003192
Change-Id: Ie0e2dc7c6184fe36aaee13ec270ab2363fbd3a20",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-18 08:02:44-07:00,25200,2023-07-18 08:03:51-07:00,25200,True,False,"['WORKSPACE', 'WORKSPACE', 'tink_py_deps.bzl', 'tink_py_deps_init.bzl']",['9f6a20ede9c049b6f2d3c4ef2a3769d074ac9424'],25,50,75,4,,,
244458ebb361cb102e3f632f1a74e70d9b5031ba,"Simplify remaining example in Python.

Register should always work, when it fails it's a bug, so it's better to not catch that exception.

PiperOrigin-RevId: 549090205
Change-Id: I657c2ef10b5914396781af0b4e5d475d7a7d1412",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-07-18 13:12:36-07:00,25200,2023-07-18 13:13:14-07:00,25200,True,False,"['aead.py', 'cleartext_keyset.py', 'deterministic_aead.py', 'encrypted_keyset.py', 'envelope.py', 'gcs_envelope_aead.py', 'hybrid.py', 'mac.py', 'signature.py']",['3793d76b3fc782eb93fa94997c04232d0fd8c3e2'],45,9,54,9,1.0,1.0,0.0
d96ed0e92d5e8dbcae8ea590e0e6afa375ae197f,"Simplify Python JWT verification example.

Supporting two public key formats in this example is not necessary. It is better to only use JWK sets, which is probably the most common use case.

This change make the example more similar with the Java example.

PiperOrigin-RevId: 549281076
Change-Id: I16294330b8027cda714ea9639c43a228edabc261",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-07-19 04:54:32-07:00,25200,2023-07-19 04:56:51-07:00,25200,True,False,"['README.md', 'jwt_signature_test.sh', 'jwt_verify.py']",['244458ebb361cb102e3f632f1a74e70d9b5031ba'],52,10,62,3,1.0,1.0,0.0
3dc46537f53e864f37f6643d1444b0ef42193cb9,"Enable cross compiling for arm64 from x86_64 and create universal2 from tools/distribution/create_bdist.sh

 * Use ARCHFLAGS to pass the target architecture to setup.py; if cross compiling from x86_64, apply the correct Bazel parameters.
 * Update tools/distribution/create_bdist.sh to create wheels for both Intel and Apple silicon, and then combine them into a universal2 wheel using delocate (https://pypi.org/project/delocate/).

PiperOrigin-RevId: 549536762
Change-Id: I547ead1cf5c50a9287eb324dccd78ff4ce1bc834",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-19 23:55:22-07:00,25200,2023-07-19 23:56:25-07:00,25200,True,False,"['setup.py', 'create_bdist.sh', 'requirements.in', 'requirements.txt']",['d96ed0e92d5e8dbcae8ea590e0e6afa375ae197f'],28,132,160,4,0.0,0.0,1.0
0616a4e9e235d7542535b19d274fea13d1305613,"Use a copy of testdata/gcp/credential_bad.json for testdata/gcp/credential.json

PiperOrigin-RevId: 549602714
Change-Id: I8a4aea0d9b4c4e60af495c0f1b5cb269921d8fe5",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-20 05:29:45-07:00,25200,2023-07-20 05:30:38-07:00,25200,True,False,"['credential.json', 'credential.json']",['3dc46537f53e864f37f6643d1444b0ef42193cb9'],4,4,8,2,,,
17910bbeac7d30b828ef7c1e5f0c3de6b9e0fcec,"Add separate release/{bdist,sdist}/create scripts for our internal CI.

The scripts generate and test release artifacts.

PiperOrigin-RevId: 549623767
Change-Id: I54940682fe9c1ab986c1d62b220442e2366f731d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-20 07:26:10-07:00,25200,2023-07-20 07:26:56-07:00,25200,True,False,"['run.sh', 'run.sh', 'run.sh']",['0616a4e9e235d7542535b19d274fea13d1305613'],0,175,175,3,,,
d63988b55f9a109ebafc8f382bfca8df1408ffce,"Add missing calls to kokoro/testutils/copy_credentials.sh

PiperOrigin-RevId: 549872877
Change-Id: I31cd33de13b4fa1e322d51316119c187d522d61f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-21 01:25:30-07:00,25200,2023-07-21 01:26:25-07:00,25200,True,False,"['run.sh', 'run.sh']",['17910bbeac7d30b828ef7c1e5f0c3de6b9e0fcec'],0,4,4,2,,,
0024ed10702f4cd0d1c3a68a813fa06f53a9d6db,"Copybara import of the project:

--
d5cdcf0cbfe2d66a0cc2603ffdd16bc23e07c6a9 by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump cryptography from 41.0.0 to 41.0.2 in /kokoro

Bumps [cryptography](https://github.com/pyca/cryptography) from 41.0.0 to 41.0.2.
- [Changelog](https://github.com/pyca/cryptography/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pyca/cryptography/compare/41.0.0...41.0.2)

---
updated-dependencies:
- dependency-name: cryptography
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
COPYBARA_INTEGRATE_REVIEW=https://github.com/tink-crypto/tink-py/pull/8 from tink-crypto:dependabot/pip/kokoro/cryptography-41.0.2 d5cdcf0cbfe2d66a0cc2603ffdd16bc23e07c6a9
PiperOrigin-RevId: 549890979
Change-Id: I57c993d98ac4e500acdfaa74e7e6a05c2414018c",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-07-21 02:44:33-07:00,25200,2023-07-21 02:50:51-07:00,25200,True,False,['release_requirements.txt'],['d63988b55f9a109ebafc8f382bfca8df1408ffce'],20,24,44,1,,,
21fff64b98ff6e9843ae2a6bc93d8170ec29127c,"Use the `host` network mode when running commands in containers

See https://docs.docker.com/network/drivers/host/.

PiperOrigin-RevId: 551128510
Change-Id: I0786566c9db3e0925a0cbddc7ec0152e07a4af83",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-26 01:36:31-07:00,25200,2023-07-26 01:38:58-07:00,25200,True,False,['run_command.sh'],['0024ed10702f4cd0d1c3a68a813fa06f53a9d6db'],0,1,1,1,,,
85958566ca4894b33c15281d89b8f1bfce748825,"Add separate script to test the generated Python release artifacts

 * Rename test_linux_binary_wheels.sh => test_linux_binary_wheel.sh and update the script to test only one wheel at a time.
 * Add test_dist.sh script that tests all the artifacts in a given artifacts folder.

PiperOrigin-RevId: 551148842
Change-Id: I8457681914b659f0d2b52f624bba6799859d78d7",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-26 03:02:24-07:00,25200,2023-07-26 03:03:20-07:00,25200,True,False,"['run.sh', 'run.sh', 'run.sh', 'create_bdist.sh', 'create_sdist.sh', 'test_dist.sh', 'test_linux_binary_wheel.sh', 'test_linux_binary_wheels.sh']",['21fff64b98ff6e9843ae2a6bc93d8170ec29127c'],100,255,355,8,,,
683dc13ef6109d5aeacf0ed46a243a2618102bbd,"Remove unused test scripts

PiperOrigin-RevId: 551166991
Change-Id: Ief967b92181cab174df0f468453cef7d6dd37f3d",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-26 04:38:52-07:00,25200,2023-07-26 04:39:36-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['85958566ca4894b33c15281d89b8f1bfce748825'],138,0,138,2,,,
ff8f2c7f59c6c49e4801de5df0612cf95c8cce05,"Add CI test script to test sdist.

PiperOrigin-RevId: 551494742
Change-Id: I4d4bc499d19992cd677ff5022dd589cceff80c8e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-07-27 05:02:12-07:00,25200,2023-07-27 05:03:35-07:00,25200,True,False,"['run.sh', 'run.sh']",['683dc13ef6109d5aeacf0ed46a243a2618102bbd'],3,72,75,2,,,
9c28ba54751cbe0e3c6ce03c7d593978f4186d26,"Update requirements.txt

PiperOrigin-RevId: 556734587
Change-Id: Iee073dfb5a604297ae99464f20c185300ca935e5",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-14 03:57:52-07:00,25200,2023-08-14 04:03:44-07:00,25200,True,False,['requirements.txt'],['ff8f2c7f59c6c49e4801de5df0612cf95c8cce05'],163,163,326,1,,,
accc1c8ddd29d0cea7258b954c376a7a0585a597,"Search sdist artifacts to test in $(pwd)/release

This simplifies the logic of the test. Also:
 - Remove copying credentials form the `create` job
 - Copy injected credentials in the `test` job

PiperOrigin-RevId: 556735360
Change-Id: I95419d7150a10e1f7ad37875f7e6755fc611fd71",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-14 04:00:39-07:00,25200,2023-08-14 04:04:43-07:00,25200,True,False,"['run.sh', 'run.sh']",['9c28ba54751cbe0e3c6ce03c7d593978f4186d26'],14,10,24,2,,,
978b930832d17f610c564e7235d0665f71fb8def,"Update requiremetns.txt for tink-py examples.

PiperOrigin-RevId: 556749941
Change-Id: Id7744b4be45ba18612b48168f2a74c8b58c3faa0",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-08-14 05:02:37-07:00,25200,2023-08-14 05:03:18-07:00,25200,True,False,['requirements.txt'],['accc1c8ddd29d0cea7258b954c376a7a0585a597'],109,109,218,1,,,
0c22976dd07e5fa89ef99c890c4d3d414dcc7c65,"Upgreade pybind11 and pybind11_bazel to the latest release

PiperOrigin-RevId: 556784731
Change-Id: Ia230ed05ac4dd5e3da38f8a6440dc49e5b240815",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-14 07:35:44-07:00,25200,2023-08-14 07:36:35-07:00,25200,True,False,['tink_py_deps.bzl'],['978b930832d17f610c564e7235d0665f71fb8def'],8,8,16,1,,,
3d666c9f3c2da62be68869af5df05a98e9428978,"Remove cached DEK key protos.

These are now unused.

PiperOrigin-RevId: 556805140
Change-Id: I5868686b6e929900c08351e92d502ef9885aded5",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-08-14 08:50:48-07:00,25200,2023-08-14 08:51:34-07:00,25200,True,False,"['cached_dek_aead.proto', 'cached_dek_envelope.proto']",['0c22976dd07e5fa89ef99c890c4d3d414dcc7c65'],83,0,83,2,,,
93b8d29cb152e431cee1473a3e1e1c30598910d8,"Build and test binary wheels for Python 3.11

PiperOrigin-RevId: 557461339
Change-Id: Ie9e726aa7b7335b4f44edcb47880c439bbb33fda",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-16 06:06:54-07:00,25200,2023-08-16 06:09:14-07:00,25200,True,False,"['build_linux_binary_wheels.sh', 'create_bdist.sh', 'test_linux_binary_wheel.sh']",['3d666c9f3c2da62be68869af5df05a98e9428978'],1,3,4,3,,,
754db42b4b26b24ba9ba09f0e5e1736341f032ab,"fix typos and spelling errors

PiperOrigin-RevId: 557477240
Change-Id: I9bfd15179b1947e55bc846bc956219ed82b45739",Elias James Howell,134174490+random415@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-08-16 07:19:48-07:00,25200,2023-08-16 07:20:32-07:00,25200,True,False,"['README.md', 'README.md', 'README.md']",['93b8d29cb152e431cee1473a3e1e1c30598910d8'],3,3,6,3,,,
b2389a0ebab0330bede0d6c73597373dd09cb719,"Modify examples/ to allow running them with Python 3.11

This includes renaming each test CLI of the form <primitive>.py to <primitive>_cli.py to allow then importing basic examples with `from <primitive> import <primitive>_basic` in tests.

The reason for this is that with Python < 3.11, `from <primitive> import <primitive>_basic` would search for `<primitive>_basic` in `<primitive>/<primitive>.py`, thus failing with and `ImportError`, while simply `import <primitive>_basic` with Python 3.11 would also fail.

PiperOrigin-RevId: 557504124
Change-Id: I189625be24f082112cfd5d3b31008e6b4276e32c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-16 09:03:47-07:00,25200,2023-08-16 09:04:29-07:00,25200,True,False,"['BUILD.bazel', 'aead_basic_test.py', 'aead_cli.py', 'aead_cli_test.sh', 'BUILD.bazel', 'README.md', 'cleartext_keyset_cli.py', 'cleartext_keyset_cli_test.sh', 'BUILD.bazel', 'README.md', 'deterministic_aead_basic_test.py', 'deterministic_aead_cli.py', 'deterministic_aead_cli_test.sh', 'BUILD.bazel', 'README.md', 'encrypted_keyset_cli.py', 'encrypted_keyset_cli_test.sh', 'BUILD.bazel', 'README.md', 'envelope_cli.py', 'envelope_cli_test.sh', 'BUILD.bazel', 'README.md', 'gcs_envelope_aead_cli.py', 'gcs_envelope_aead_cli_test.sh', 'BUILD.bazel', 'README.md', 'hybrid_basic_test.py', 'hybrid_cli.py', 'hybrid_cli_test.sh', 'BUILD.bazel', 'README.md', 'jwt_sign_cli.py', 'jwt_verify_cli.py', 'BUILD.bazel', 'README.md', 'mac_basic_test.py', 'mac_cli.py', 'mac_cli_test.sh', 'BUILD.bazel', 'README.md', 'signature_basic_test.py', 'signature_cli.py', 'signature_cli_test.sh', 'BUILD.bazel', 'README.md', 'streaming_aead_cli.py', 'streaming_aead_cli_test.sh', 'create_keyset_test.py', 'load_cleartext_keyset_test.py', 'load_encrypted_keyset_test.py', 'obtain_and_use_a_primitive_test.py', 'write_cleartext_keyset_test.py', 'write_keyset_test.py']",['754db42b4b26b24ba9ba09f0e5e1736341f032ab'],130,130,260,54,,,
b32d69aa6292fde58b96577d85e49a06352d7fdd,"Copybara import of the project:

--
fba26034c9af825fcd46c07f9ba1fdec32534da9 by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump certifi from 2023.5.7 to 2023.7.22 in /kokoro

Bumps [certifi](https://github.com/certifi/python-certifi) from 2023.5.7 to 2023.7.22.
- [Commits](https://github.com/certifi/python-certifi/compare/2023.05.07...2023.07.22)

---
updated-dependencies:
- dependency-name: certifi
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 557769166
Change-Id: Ie36c868791222b2269f850a8913bb81275a0ff1b",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-08-17 03:24:54-07:00,25200,2023-08-17 03:26:19-07:00,25200,True,False,['release_requirements.txt'],['b2389a0ebab0330bede0d6c73597373dd09cb719'],3,3,6,1,,,
8d1c4a9b536109fb8f13e4286d2a492190ebd7d2,"Fix typo in AEAD example README.md

PiperOrigin-RevId: 557780468
Change-Id: Id14c797aae1aa3b0cc4d7cd07cda67cab2a41998",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-17 04:23:49-07:00,25200,2023-08-17 04:24:23-07:00,25200,True,False,['README.md'],['b32d69aa6292fde58b96577d85e49a06352d7fdd'],2,2,4,1,,,
7f494ae50e813e8cf748ebc1119d7af893930276,"Update Docker image for Python 3.11 testing

PiperOrigin-RevId: 557810596
Change-Id: I1fab7f034862a1e0eda7acc4a1bf0c673576a77e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-17 06:59:53-07:00,25200,2023-08-17 07:01:07-07:00,25200,True,False,['py_test_container_images.sh'],['8d1c4a9b536109fb8f13e4286d2a492190ebd7d2'],1,1,2,1,,,
57ef604e8eb3e46ce006d4be5bb7bec566d2742b,"Allow using protobuf>=3.20.2 for tink-py excluding known vulnerable versions

See https://github.com/protocolbuffers/protobuf/security/advisories/GHSA-8gq9-2x98-w8hf

google/tink#695

PiperOrigin-RevId: 558051203
Change-Id: I86399716b62f254f5a756f6f6cb83d0a262a0927",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-17 23:50:48-07:00,25200,2023-08-17 23:51:50-07:00,25200,True,False,['requirements.in'],['7f494ae50e813e8cf748ebc1119d7af893930276'],1,1,2,1,,,
06b9e98913362315207a55b890371132d84934cc,"Modify tink-py examples' WORKSPACE file to depend on ../tink_py

Also modify Kokoro test scripts to modify tink-py's WORKSPACE file instead of the examples one only when needed.

PiperOrigin-RevId: 558112066
Change-Id: I2701c42b32cae2344b85a8ab9112b803cd2fd968",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-18 04:50:31-07:00,25200,2023-08-18 04:51:16-07:00,25200,True,False,"['WORKSPACE', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['57ef604e8eb3e46ce006d4be5bb7bec566d2742b'],52,14,66,9,,,
06b7ef491069c506ac17397454dfafc938ceba06,"Fix tink-cc override in tink-py examples

PiperOrigin-RevId: 558129941
Change-Id: I16b626808a02dc1fa60b6934f443c50e5e9ee93b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-18 06:33:46-07:00,25200,2023-08-18 06:34:20-07:00,25200,True,False,"['WORKSPACE', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['06b9e98913362315207a55b890371132d84934cc'],12,18,30,5,,,
5531bfd44066a37746c07555779a6caec8971568,"Also run tests in examples/ when testing Tink Py's pip installation.

PiperOrigin-RevId: 558752961
Change-Id: I772956b6710189477671b11d607b41dec0c47622",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-21 04:56:13-07:00,25200,2023-08-21 04:59:09-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['06b7ef491069c506ac17397454dfafc938ceba06'],0,50,50,2,,,
227d4e6ab6020a1e8ec97c4070c0565fe3c5d040,"Remove redundant examples test script

PiperOrigin-RevId: 558761856
Change-Id: Id7d475aab79191fc10df585d4a2fd8e9368edb94",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-21 05:44:04-07:00,25200,2023-08-21 05:44:57-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['5531bfd44066a37746c07555779a6caec8971568'],326,0,326,4,,,
6b4ddbb9a060b0faa77a783bf1ade362028e080b,"Add missing calls to copy_credentials.sh

PiperOrigin-RevId: 558773486
Change-Id: Ib8da8a24b84791be0e2a1a4c1beb27edf72a4cdb",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-21 06:44:22-07:00,25200,2023-08-21 06:45:12-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['227d4e6ab6020a1e8ec97c4070c0565fe3c5d040'],0,2,2,2,,,
b927637cfa34bc3c28ec33e21d50406ffda5a888,"Use a placeholder to override tink-cc in tink-py's WORKSPACE file

This avoids duplicating the dependency import in https://github.com/tink-crypto/tink-py/blob/57ef604e8eb3e46ce006d4be5bb7bec566d2742b/WORKSPACE#L5, which is present already in https://github.com/tink-crypto/tink-py/blob/57ef604e8eb3e46ce006d4be5bb7bec566d2742b/tink_py_deps.bzl#L62.

Also update Kokoro test scripts and setup.py accordingly, and delete unused utility replace_http_archive_with_local_repository.py

PiperOrigin-RevId: 558786813
Change-Id: I9643a85e98ab1c0c0ff374e5cc549e1204077145",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-21 07:48:53-07:00,25200,2023-08-21 07:49:53-07:00,25200,True,False,"['WORKSPACE', 'WORKSPACE', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'replace_http_archive_with_local_repository.py', 'setup.py']",['6b4ddbb9a060b0faa77a783bf1ade362028e080b'],196,59,255,10,0.7,0.0,0.5888888888888889
72160beb927e1bb8a086232c162e9716561e166a,"Also run tests in examples/ when testing Tink Py with Bazel.

PiperOrigin-RevId: 558893150
Change-Id: I55fb8f4118763f93fc0f39dae979e2393900da03",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-21 13:58:34-07:00,25200,2023-08-21 13:59:46-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['b927637cfa34bc3c28ec33e21d50406ffda5a888'],59,143,202,2,,,
f6704448cd379ba18e1a8f52c3e50c8c0969faf7,"Remove use of TINK_PYTHON_SETUPTOOLS_OVERRIDE_BASE_PATH to override tink-py's deps

Overrides are now performed by the tests explicitly. Also delete unused testutil script `install_tink_via_pip.sh`.

PiperOrigin-RevId: 559018071
Change-Id: I2ae8c09f2b4d52db965b404ac37ed175105720b9",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-22 00:06:57-07:00,25200,2023-08-22 00:08:07-07:00,25200,True,False,"['run_tests.sh', 'run.sh', 'run.sh', 'run_tests.sh', 'run.sh', 'install_tink_via_pip.sh', 'setup.py', 'create_bdist.sh', 'create_sdist.sh']",['72160beb927e1bb8a086232c162e9716561e166a'],77,67,144,9,1.0,0.058823529411764705,0.0
790193c20c9360d834cbc34f67e2e3bdb8e08637,"Remove redundant test scripts

PiperOrigin-RevId: 559030659
Change-Id: Ia2e071b8ef654e4812f4b1f8cbb763b693a137c4",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-22 01:09:55-07:00,25200,2023-08-22 01:10:35-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh']",['f6704448cd379ba18e1a8f52c3e50c8c0969faf7'],355,0,355,4,,,
441cc3f1f348970efde85f03160b67b4f9e85939,"Update badges section of README.md

PiperOrigin-RevId: 559036787
Change-Id: Idbcd4b6dd7565e5b150422fc79b582c74698e8ca",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-22 01:40:33-07:00,25200,2023-08-22 01:41:23-07:00,25200,True,False,['README.md'],['790193c20c9360d834cbc34f67e2e3bdb8e08637'],13,22,35,1,,,
81f37fdd8a278d6c89de572e3f2e95bd7feaead0,"Some fixes to release creation scripts

 - Trap EXIT only in GCP Ubuntu jobs when changes are made to the WORKSPACE file
 - Replace tink-cc with a local one also when not on Kokoro
 - Fix parameters and help message in sdist and bdist creation scripts
 - Remove unneeded clenup ops from crete_sdist.sh and create_bdist.sh

PiperOrigin-RevId: 559068931
Change-Id: I9f554065ee3215e18de4696d74c8823bdf80710b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-22 04:27:04-07:00,25200,2023-08-22 04:28:07-07:00,25200,True,False,"['run.sh', 'run.sh', 'run.sh', 'create_bdist.sh', 'create_sdist.sh']",['441cc3f1f348970efde85f03160b67b4f9e85939'],78,37,115,5,,,
87b6fc9342057a142f1f52d06994ca6981d98407,"Install examples/requirements.txt

PiperOrigin-RevId: 559338933
Change-Id: I8d28b0a65d1c0f48a94ed49b7b992cc670c46d52",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-23 00:34:42-07:00,25200,2023-08-23 00:36:29-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['81f37fdd8a278d6c89de572e3f2e95bd7feaead0'],0,6,6,2,,,
1af4aac53f23b9e137c205e078706e4c014fb03b,"Fix sdist creation and testing

 - Allow overwriting tink-cc with a local repo; This is a partial rollback of https://github.com/tink-crypto/tink-py/commit/f6704448cd379ba18e1a8f52c3e50c8c0969faf7.
 - Create the sdist without changes to the WORKSPACE file, and only overwrite it when testing it.
 - Fix the search path for the sdist archive.

PiperOrigin-RevId: 559344148
Change-Id: Ifc7f11432e6827a5f9a7a1af87a54f1ddd8c0410",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-23 01:01:17-07:00,25200,2023-08-23 01:02:12-07:00,25200,True,False,"['run.sh', 'run.sh', 'setup.py']",['87b6fc9342057a142f1f52d06994ca6981d98407'],12,52,64,3,0.0,0.9411764705882353,1.0
e74d84708a43278a02647a375e4419c46b23b1dd,"Use tink-cc@v2.0.0 by default with tink-py

For testing we have the option to override tink-cc with a `local_repository`.

PiperOrigin-RevId: 559359263
Change-Id: I1de255b1f47113dd92022b302b62f7b382127106",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-23 02:16:53-07:00,25200,2023-08-23 02:17:43-07:00,25200,True,False,['tink_py_deps.bzl'],['1af4aac53f23b9e137c205e078706e4c014fb03b'],2,3,5,1,,,
e02e14525db21cd14cc57968b4456b61327a7e9e,"Add USE_LOCAL_TINK_CC option to bazel and pip test scripts for GCP Ubuntu

If ""true"" (default if unset) use a local repository for tink_cc, located at TINK_BASE_DIR/tink_cc.

PiperOrigin-RevId: 559409844
Change-Id: Ibf58c72b813519e8ae11744a38c5362d26d15898",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-23 06:48:43-07:00,25200,2023-08-23 06:49:37-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh']",['e74d84708a43278a02647a375e4419c46b23b1dd'],37,80,117,2,,,
e508858332edaf2e85097a64b2b15e6e6edf1c88,"Deprecate AWS and GCP KMS client registration in Python.

It is preferable to directly use the AEAD from the client, and to not register it.

PiperOrigin-RevId: 559716782
Change-Id: Ib9ba6e8d2dd268794aa4b05e817b5be5125a8155",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-08-24 04:54:37-07:00,25200,2023-08-24 04:55:45-07:00,25200,True,False,"['_aws_kms_client.py', '_aws_kms_integration_test.py', '_gcp_kms_client.py', '_gcp_kms_integration_test.py']",['e02e14525db21cd14cc57968b4456b61327a7e9e'],9,85,94,4,0.723404255319149,1.0,1.0
bbb86c82fef98cd87ec5773af9bf82eaa43d654f,"Do not override tink_cc with a local repository when releasing

This is done through a USE_LOCAL_TINK_CC variable that can be set by the caller (for testing purposes), ""false"" when a parent job is a release job, and ""true"" otherwise.

PiperOrigin-RevId: 559717214
Change-Id: I4901b7a7ea68102855bda0f0da96fe5473c8d0b8",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-24 04:57:01-07:00,25200,2023-08-24 04:57:38-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run.sh', 'run.sh', 'run.sh', 'run_tests.sh', 'run_tests.sh', 'run.sh']",['e508858332edaf2e85097a64b2b15e6e6edf1c88'],59,188,247,8,,,
9a3eef8b99128672c7c9be1dfc40d79307653f9c,"Use KOKORO_ROOT_JOB_NAME to detect whether this is run as part of a release workflow

PiperOrigin-RevId: 559754168
Change-Id: If8b8ffe4ea31fdc409c1776a8f64d063e9837d2e",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-24 07:59:32-07:00,25200,2023-08-24 08:00:29-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run.sh', 'run.sh', 'run.sh', 'run_tests.sh', 'run_tests.sh', 'run.sh']",['bbb86c82fef98cd87ec5773af9bf82eaa43d654f'],10,10,20,8,,,
50ec0bcf7c7f3180ca95d22b6a396ca57f414e80,"Simply write the package version in VERSION

This follows option #4 here: https://packaging.python.org/en/latest/guides/single-sourcing-package-version/.

PiperOrigin-RevId: 559755316
Change-Id: If057e056460a4b7b866907e8620436988fdcd0f7",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-24 08:03:38-07:00,25200,2023-08-24 08:04:12-07:00,25200,True,False,"['VERSION', 'create_github_release_tag.sh', 'release_on_pypi.sh', 'setup.py', 'create_bdist.sh', 'create_sdist.sh']",['9a3eef8b99128672c7c9be1dfc40d79307653f9c'],14,10,24,6,1.0,0.0,0.0
6e53a54924375e125915d55a5f7d667a4492a648,"Copybara import of the project:

--
4475194a28834d82dc2d25a75d92095a4f8c0c2c by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump cryptography from 41.0.2 to 41.0.3 in /kokoro

Bumps [cryptography](https://github.com/pyca/cryptography) from 41.0.2 to 41.0.3.
- [Changelog](https://github.com/pyca/cryptography/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pyca/cryptography/compare/41.0.2...41.0.3)

---
updated-dependencies:
- dependency-name: cryptography
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 560014717
Change-Id: Ic538fe97dc1e03e3781879e0b81410152d4482cb",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-08-25 01:21:15-07:00,25200,2023-08-25 01:22:12-07:00,25200,True,False,['release_requirements.txt'],['50ec0bcf7c7f3180ca95d22b6a396ca57f414e80'],24,24,48,1,,,
68fd663c9ef9454c708dcc29583751bc63a20dac,"Use the current job name to determine the script runs in a release pipeline

PiperOrigin-RevId: 560030991
Change-Id: Ia2a9b65e3d82a764380f8f4187cc47946fda97db",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-25 02:43:29-07:00,25200,2023-08-25 02:44:55-07:00,25200,True,False,"['run_tests.sh', 'run_tests.sh', 'run.sh', 'run.sh', 'run.sh', 'run_tests.sh', 'run_tests.sh', 'run.sh']",['6e53a54924375e125915d55a5f7d667a4492a648'],12,12,24,8,,,
4cedc8337e710288634b0918180f10bb8cbf9651,"Modify release_on_pypy.sh to allow using it outside Kokoro as well

Also avoid creating release artifacts, and instead assume they can be found in /path/to/tink-py/release/.

PiperOrigin-RevId: 560053250
Change-Id: Ia3efde08362651b14da173db7bd0f814141ffd13",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-25 04:38:34-07:00,25200,2023-08-25 04:39:20-07:00,25200,True,False,['release_on_pypi.sh'],['68fd663c9ef9454c708dcc29583751bc63a20dac'],22,34,56,1,,,
9d5c79c9b52aae8c4440bb5c4812533b244b44c6,"Remove tools/distribution/README.md

This README refers to the the project in google/tink.

PiperOrigin-RevId: 560061989
Change-Id: I2d7539dd31a0fc33363b41c7e0b11294faa0a500",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-25 05:26:37-07:00,25200,2023-08-25 05:27:31-07:00,25200,True,False,['README.md'],['4cedc8337e710288634b0918180f10bb8cbf9651'],56,0,56,1,,,
5f3e1a7a57b85af5070bb0944017b1c1f2ec713c,"Use KOKORO_GIT_COMMIT instead of KOKORO_GIT_COMMIT_tink_py in release scripts

PiperOrigin-RevId: 560072466
Change-Id: Id9e92f46e4bc054ccbbf0ac6a87d45ab38363e6f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-25 06:22:04-07:00,25200,2023-08-25 06:22:57-07:00,25200,True,False,"['create_github_release_branch.sh', 'create_github_release_tag.sh']",['9d5c79c9b52aae8c4440bb5c4812533b244b44c6'],15,15,30,2,,,
b05aef40ef812c524dcea3bdc87bd92a69dfdd36,"Bump version to 1.8.0

PiperOrigin-RevId: 560078808
Change-Id: I42f5678f0b770f508ced5125890eb7b3ce1e5fc6",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-25 06:55:19-07:00,25200,2023-08-25 06:56:10-07:00,25200,True,False,['VERSION'],['5f3e1a7a57b85af5070bb0944017b1c1f2ec713c'],1,1,2,1,,,
13a517f59721450123750dee56cafd8dd91043f1,"Fix error in github release script

PiperOrigin-RevId: 560218016
Change-Id: Iaa280a89f0c222384777b91a1204c42bc31e7c45",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-08-25 16:01:44-07:00,25200,2023-08-25 16:02:25-07:00,25200,True,False,['create_github_release_tag.sh'],['b05aef40ef812c524dcea3bdc87bd92a69dfdd36'],1,1,2,1,,,
5934f47df29666ccadaa5ff4cc2ba626f82bcdf5,"Remove logging when decryption or verification failed.

These functions shouldn't log on invalid input. And the logging doesn't seem to be helpful.

PiperOrigin-RevId: 561270990
Change-Id: Ia2d1c50efff4d56e3b234bcd61cc38a0bed1a512",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-08-30 01:54:36-07:00,25200,2023-08-30 01:56:23-07:00,25200,True,False,"['BUILD.bazel', '_aead_wrapper.py', 'BUILD.bazel', '_deterministic_aead_wrapper.py', 'BUILD.bazel', '_hybrid_wrapper.py', 'BUILD.bazel', '_mac_wrapper.py', 'BUILD.bazel', '_signature_wrapper.py']",['13a517f59721450123750dee56cafd8dd91043f1'],29,14,43,10,1.0,1.0,1.0
ae560e1c1b537cdb05dd07d0eea2c0bb8f5738f4,"Move KMS client registration to tink package and make it public.

#tinkApiChange

PiperOrigin-RevId: 563018134
Change-Id: I51d13d96dd321b199fac373b49dc3521108969ed",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-06 00:43:04-07:00,25200,2023-09-06 00:44:46-07:00,25200,True,False,"['BUILD.bazel', '__init__.py', '_kms_clients.py', '_kms_clients_test.py', 'BUILD.bazel', '_kms_aead_key_manager.py', '_kms_aead_key_manager_test.py', 'BUILD.bazel', '_aws_kms_client.py', '_aws_kms_integration_test.py', 'BUILD.bazel', '_gcp_kms_client.py', '_gcp_kms_integration_test.py', 'BUILD.bazel', 'fake_kms.py']",['5934f47df29666ccadaa5ff4cc2ba626f82bcdf5'],82,198,280,15,1.0,1.0,1.0
cf9f54b2fb4e21f0a3f47d65b255186988bc6c10,"Refactor handling of key_uri.

- Move key URI validation into a function, and add tests.
- Use key_uri instead of key_arn in AWS KMS client, which makes the code a bit simpler.

PiperOrigin-RevId: 564716457
Change-Id: I1de139438c57bc21c130fc921bf01c148d9849f5",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-12 07:34:29-07:00,25200,2023-09-12 07:36:45-07:00,25200,True,False,"['_aws_kms_client.py', '_aws_kms_client_test.py']",['ae560e1c1b537cdb05dd07d0eea2c0bb8f5738f4'],10,40,50,2,1.0,1.0,1.0
9505411b7ae7fdb2bb1666cfda26f8047522ec00,"Add awskms.new_client, that takes a boto3 client as input.

This gives the user more flexiblity to create an AWK KMS client.

google/tink#510

#tinkApiChange

PiperOrigin-RevId: 564979846
Change-Id: Ia89b058106413e1daa6c9db4766a9de617bb31c1",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-13 02:09:06-07:00,25200,2023-09-13 02:10:07-07:00,25200,True,False,"['BUILD.bazel', '__init__.py', '_aws_kms_client.py', '_aws_kms_client_test.py', '_aws_kms_integration_test.py']",['cf9f54b2fb4e21f0a3f47d65b255186988bc6c10'],3,170,173,5,0.2074074074074074,1.0,1.0
6f0cf9800587b6ce9f4b3eba72eb2d8874d6801d,"Make dependencies KMS extensions optional in tink-py

This allows users that `pip install tink` to avoid taking extra KMS dependencies if they don't need them. KMS deps will need to be explicitly installed with `pip install tink[EXTENSION]`. When the extensions are not installed `import tink.integration.gcpkms` will raise an `ImportError` exception.

This change adds two extra requirements files and generates `requirements.txt` and `requirements_all.txt` from setup.py.

tink-crypto/tink-py#14

PiperOrigin-RevId: 565596390
Change-Id: Ieff34f9a53f455f52425b56871d3e22acedb5eb9",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-09-15 00:27:02-07:00,25200,2023-09-15 00:28:55-07:00,25200,True,False,"['MANIFEST.in', 'BUILD.bazel', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'install_tink_via_pip.sh', 'requirements.in', 'requirements.txt', 'requirements_all.txt', 'requirements_awskms.in', 'requirements_gcpkms.in', 'setup.py', '__init__.py', '__init__.py', 'tink_py_deps_init.bzl', 'test_dist.sh', 'test_linux_binary_wheel.sh']",['9505411b7ae7fdb2bb1666cfda26f8047522ec00'],304,360,664,17,0.0,1.0,1.0
7e0674afddcc9da1044781608b0086aedaca6865,"Add Tink Proto and Json Keyset Format API in Python.

Note that we can't use cleartext_keyset_handle here, because it imports tink, which
would result in a circular dependency. That's why I add new internal functions that allow accessing the proto keyset.

#tinkApiChange

PiperOrigin-RevId: 566274337
Change-Id: I3753b95c51a828e19808ee5951abae61e14696e8",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-18 05:39:57-07:00,25200,2023-09-18 05:42:06-07:00,25200,True,False,"['BUILD.bazel', '__init__.py', '_insecure_keyset_handle.py', '_insecure_keyset_handle_test.py', '_json_proto_keyset_format.py', '_json_proto_keyset_format_test.py', '_proto_keyset_format.py', '_proto_keyset_format_test.py']",['6f0cf9800587b6ce9f4b3eba72eb2d8874d6801d'],0,591,591,8,0.5909090909090909,1.0,0.8106060606060606
f9a6b35ec64b0c6627b4e30a9c5f8a01bbb88235,"Migrate encrypted_keyset_cli.py to new API in Python.

PiperOrigin-RevId: 566926337
Change-Id: I2383eb00eb4dfffbf5e80c1632f820e7b7ad904b",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-20 04:54:10-07:00,25200,2023-09-20 04:55:32-07:00,25200,True,False,['encrypted_keyset_cli.py'],['7e0674afddcc9da1044781608b0086aedaca6865'],4,13,17,1,0.0,0.0,1.0
1cbfb70706ec0e5d8d722fffb679cc7747c2e3dd,"Make secret_key_access public.

This is part of the public API, so it should be public.

PiperOrigin-RevId: 567223725
Change-Id: I2550d7692cec86bc02b889994d148d415f961b25",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-21 01:25:30-07:00,25200,2023-09-21 01:27:08-07:00,25200,True,False,['BUILD.bazel'],['f9a6b35ec64b0c6627b4e30a9c5f8a01bbb88235'],0,1,1,1,,,
f4dc1d9eb4a38f5562a42171fa4a844a374cc9b8,"Migrate aead and daead example in Python to new keyset parse API.

PiperOrigin-RevId: 567232965
Change-Id: I0aad5f3ee15fdbf43dcb105f722efa119f08b23b",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-21 02:03:37-07:00,25200,2023-09-21 02:06:32-07:00,25200,True,False,"['BUILD.bazel', 'aead_basic.py', 'aead_cli.py', 'BUILD.bazel', 'deterministic_aead_basic.py', 'deterministic_aead_cli.py']",['1cbfb70706ec0e5d8d722fffb679cc7747c2e3dd'],17,22,39,6,0.0,0.5,1.0
7e219c2376579aba87b1e87ab7496a39008d6b79,"Migrate Python examples to new keyset serialization API.

PiperOrigin-RevId: 568111246
Change-Id: I74e6998a45c2b3f04db1e9f379bc4c9edf7da518",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-09-24 22:29:22-07:00,25200,2023-09-24 22:31:41-07:00,25200,True,False,"['BUILD.bazel', 'cleartext_keyset_cli.py', 'BUILD.bazel', 'hybrid_basic.py', 'hybrid_cli.py', 'BUILD.bazel', 'jwt_generate_public_jwk_set.py', 'jwt_sign_cli.py', 'BUILD.bazel', 'mac_basic.py', 'mac_cli.py', 'BUILD.bazel', 'signature_basic.py', 'signature_cli.py', 'BUILD.bazel', 'streaming_aead_cli.py']",['f4dc1d9eb4a38f5562a42171fa4a844a374cc9b8'],48,68,116,16,0.0,0.4,1.0
7379632b284429611268cada42f4b106c1107c54,"Copybara import of the project:

--
1a97c586b9c893ae5ba2ac05188427f7d84b46a9 by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump cryptography from 41.0.3 to 41.0.4 in /kokoro

Bumps [cryptography](https://github.com/pyca/cryptography) from 41.0.3 to 41.0.4.
- [Changelog](https://github.com/pyca/cryptography/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pyca/cryptography/compare/41.0.3...41.0.4)

---
updated-dependencies:
- dependency-name: cryptography
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 568475527
Change-Id: I73d7b04afc2c4279267c81f334143452618c787b",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-09-26 02:45:35-07:00,25200,2023-09-26 02:48:09-07:00,25200,True,False,['release_requirements.txt'],['7e219c2376579aba87b1e87ab7496a39008d6b79'],24,24,48,1,,,
dd8be542face33d38e9accaf044649fe59c5579e,"Run Kokoro jobs for tink-py depending on the latest tink-cc release

PiperOrigin-RevId: 568829048
Change-Id: I221ddf35b7588cbc88a39b06fee7a2e190d97ea5",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-09-27 06:10:57-07:00,25200,2023-09-27 06:11:51-07:00,25200,True,False,"['WORKSPACE', 'WORKSPACE', 'run_tests.sh', 'run_tests.sh', 'run.sh', 'run.sh', 'run.sh', 'run_tests.sh', 'run_tests.sh', 'run.sh', 'fetch_git_repo_if_not_present.sh', 'setup.py']",['7379632b284429611268cada42f4b106c1107c54'],416,22,438,12,1.0,0.058823529411764705,0.0
07f060af9c8184fcc3190bae4b284fe41aeb791a,"Use new keyset serialization API in Python examples.

PiperOrigin-RevId: 572575612
Change-Id: I6bac62a63de5c6038b47b154c46f9a483d8dfe05",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-10-11 07:58:27-07:00,25200,2023-10-11 08:01:08-07:00,25200,True,False,"['BUILD.bazel', 'load_cleartext_keyset.py', 'load_encrypted_keyset.py', 'load_encrypted_keyset_test.py', 'write_cleartext_keyset.py']",['dd8be542face33d38e9accaf044649fe59c5579e'],17,19,36,5,0.5,1.0,1.0
3738c39a5bdbd444e83d66ba42806ef6d3dbd148,"Migrate fake KMS to new Keyset serialization API in Python.

PiperOrigin-RevId: 572847591
Change-Id: If829c1845fee740217e10c356118694b19d560c0",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-10-12 03:29:48-07:00,25200,2023-10-12 03:30:46-07:00,25200,True,False,"['BUILD.bazel', 'fake_kms.py', 'keyset_builder.py']",['07f060af9c8184fcc3190bae4b284fe41aeb791a'],17,13,30,3,0.0,0.0,0.0
b99625e49ff34de30198792c7bfb0e12d26e218e,"Add --no-deps flag to pip install invocations.

PiperOrigin-RevId: 576072694
Change-Id: If8c6275f0e9111d3caf91cf665567ffb5be5257c",Charles Lee,ckl@google.com,Copybara-Service,copybara-worker@google.com,2023-10-24 02:43:33-07:00,25200,2023-10-24 02:46:04-07:00,25200,True,False,"['WORKSPACE', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'run_tests.sh', 'install_tink_via_pip.sh', 'tink_py_deps_init.bzl', 'test_dist.sh', 'test_linux_binary_wheel.sh']",['3738c39a5bdbd444e83d66ba42806ef6d3dbd148'],11,28,39,9,,,
e542eca1ada3fd04cf3201e302cf1c345c0c84a7,"Replace some usages of keyset readers and writers with new API in Python.

PiperOrigin-RevId: 576120724
Change-Id: I16b3185e1f98147f145b54de05d47160f09c18b7",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-10-24 06:25:18-07:00,25200,2023-10-24 06:26:09-07:00,25200,True,False,"['BUILD.bazel', '_aead_key_manager_test.py', 'BUILD.bazel', '_hybrid_wrapper_test.py', 'BUILD.bazel', '_gcp_kms_integration_test.py', 'BUILD.bazel', '_jwk_set_converter_test.py', '_jwt_mac_wrapper_test.py']",['b99625e49ff34de30198792c7bfb0e12d26e218e'],41,53,94,9,0.8571428571428571,1.0,0.9285714285714286
d5099441d5652790c5618eacd9bc5e472de7ba10,"Update roots.pem SHA-256 checksum.

PiperOrigin-RevId: 576179626
Change-Id: Iac7ada076bee4863fa7e69927a437fa24febdd85",Cindy Lin,cinlin@google.com,Copybara-Service,copybara-worker@google.com,2023-10-24 10:12:02-07:00,25200,2023-10-24 10:12:54-07:00,25200,True,False,['tink_py_deps.bzl'],['e542eca1ada3fd04cf3201e302cf1c345c0c84a7'],1,1,2,1,,,
2875060ffde41df4cf24bb814491df6f993b3e36,"Fix type annotation in jwt_validator.

The expected_* values may be None, so they should be marked as optional.

PiperOrigin-RevId: 577763242
Change-Id: I35b5e0320f291e6db9570b928a570c6241d06fed",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-10-30 02:08:16-07:00,25200,2023-10-30 02:10:05-07:00,25200,True,False,['_jwt_validator.py'],['d5099441d5652790c5618eacd9bc5e472de7ba10'],3,3,6,1,,,
5ec31ddf051f3d34146da4e56603e09199a55f12,"Replace some usages of keyset readers and writers with new API in Python.

PiperOrigin-RevId: 577787343
Change-Id: I281d945d0c931a81a3e86bd9a2cc7def60457311",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-10-30 03:34:39-07:00,25200,2023-10-30 03:35:23-07:00,25200,True,False,"['BUILD.bazel', '_jwk_set_converter.py', '_jwt_mac_wrapper_test.py', '_jwt_signature_wrappers_test.py', '_jwt_validator.py', '_raw_jwt.py']",['2875060ffde41df4cf24bb814491df6f993b3e36'],41,43,84,6,0.8333333333333334,1.0,1.0
fa54acfeb49b138a2ddd6c3be112ffc9a35d04ea,"Add compatibility tests old and new keyset serialization API in Python.

PiperOrigin-RevId: 577917906
Change-Id: Idb2a39129f9a711d172cfa344f02806ec360c097",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-10-30 12:17:09-07:00,25200,2023-10-30 12:17:55-07:00,25200,True,False,"['_json_proto_keyset_format_test.py', '_proto_keyset_format_test.py']",['5ec31ddf051f3d34146da4e56603e09199a55f12'],0,224,224,2,0.0,1.0,1.0
e12bf2b1d9b31c3d1263f8b0bee278776a7e53ad,"Replace remaining usages of cleartext_keyset_handle with new API in Python that uses secret_key_access.TOKEN

PiperOrigin-RevId: 578201153
Change-Id: I5afe5d0ea675f25bd5aaa31b6ff95900c9e2e078",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-10-31 09:01:32-07:00,25200,2023-10-31 09:02:19-07:00,25200,True,False,"['_jwk_set_converter.py', 'BUILD.bazel', '_streaming_aead_wrapper_test.py']",['fa54acfeb49b138a2ddd6c3be112ffc9a35d04ea'],5,8,13,3,0.0,0.6666666666666666,1.0
9751afdf0fddec06f8b8f83d1c0b875ee7cf5ad0,"Add missing type annotations.

Also, since the return type of primary() is not optional, it should raise an exception if no primary is set.

PiperOrigin-RevId: 578501676
Change-Id: I6338ae2d179c9a9a99d0ca9c2e1729555e712059",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-11-01 06:43:31-07:00,25200,2023-11-01 06:44:33-07:00,25200,True,False,"['_primitive_set.py', '_primitive_set_test.py', '_registry_test.py']",['e12bf2b1d9b31c3d1263f8b0bee278776a7e53ad'],8,12,20,3,1.0,1.0,1.0
9a5504ac2f2e8adfce37c65ea9f03486ca5ab5f1,"Fix some type annotations in bytes_io.py.

PiperOrigin-RevId: 579752057
Change-Id: Ibbbc092cf77754720936095576bd6ecb1a732800",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-11-06 00:41:56-08:00,28800,2023-11-06 00:43:06-08:00,28800,True,False,"['_decrypting_stream.py', 'bytes_io.py']",['9751afdf0fddec06f8b8f83d1c0b875ee7cf5ad0'],4,4,8,2,,,
c1277b4ce90a20c5bcc4f0af98c722dd66afee2e,"Migrate away from Keyset Reader/Writer API

PiperOrigin-RevId: 579841244
Change-Id: I603d5a761db24eafc9ca5391b429853fcf263706",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-11-06 07:48:08-08:00,28800,2023-11-06 07:48:54-08:00,28800,True,False,"['load_encrypted_keyset_test.py', 'write_keyset_test.py']",['9a5504ac2f2e8adfce37c65ea9f03486ca5ab5f1'],3,3,6,2,,,
2eb41ab102f0ab6f9c89947d407e092bf5beb438,"Fix some type annotations in jwt package.

PiperOrigin-RevId: 580135596
Change-Id: I93f5399a5d03c26cea7c7a30e3833af725cc983a",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-11-07 04:42:44-08:00,28800,2023-11-07 04:43:21-08:00,28800,True,False,"['_jwk_set_converter.py', '_jwt_signature_key_manager.py']",['c1277b4ce90a20c5bcc4f0af98c722dd66afee2e'],12,12,24,2,,,
7c4844b9fd29ff3b5a5dd7b2ceed7fa9a11826cb,"Fix type annotations in _raw_jwt.py.

PiperOrigin-RevId: 580538629
Change-Id: I2c80354fd09b78df120b93380b545a830e7b852b",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-11-08 08:14:27-08:00,28800,2023-11-08 08:15:42-08:00,28800,True,False,['_raw_jwt.py'],['2eb41ab102f0ab6f9c89947d407e092bf5beb438'],2,1,3,1,0.0,0.0,0.0
30d92960b3568689c65d2f0c2997b98967138a28,"Copybara import of the project:

--
a7d272901bf58507c2f7b270d73fcf41db4b5e87 by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump urllib3 from 1.26.16 to 1.26.18 in /examples

Bumps [urllib3](https://github.com/urllib3/urllib3) from 1.26.16 to 1.26.18.
- [Release notes](https://github.com/urllib3/urllib3/releases)
- [Changelog](https://github.com/urllib3/urllib3/blob/main/CHANGES.rst)
- [Commits](https://github.com/urllib3/urllib3/compare/1.26.16...1.26.18)

---
updated-dependencies:
- dependency-name: urllib3
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 580549575
Change-Id: I013a6883da702a91f82d72818a2a32dca354620a",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-11-08 08:56:49-08:00,28800,2023-11-08 08:57:31-08:00,28800,True,False,['requirements.txt'],['7c4844b9fd29ff3b5a5dd7b2ceed7fa9a11826cb'],5,5,10,1,,,
367549a38e074053e51cae634abbe9b71aba7049,"Copybara import of the project:

--
096396eec2041c5ec62f5dceba3871b946818baa by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump pip from 23.1.2 to 23.3 in /tools/distribution

Bumps [pip](https://github.com/pypa/pip) from 23.1.2 to 23.3.
- [Changelog](https://github.com/pypa/pip/blob/main/NEWS.rst)
- [Commits](https://github.com/pypa/pip/compare/23.1.2...23.3)

---
updated-dependencies:
- dependency-name: pip
  dependency-type: direct:production
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 580549859
Change-Id: Iefafb3c8f8a8ba19c844daeeab62e09fdfc0c549",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-11-08 08:57:57-08:00,28800,2023-11-08 08:58:52-08:00,28800,True,False,['requirements.txt'],['30d92960b3568689c65d2f0c2997b98967138a28'],7,7,14,1,,,
df60d1e847d73cc3f0373adac08b6cd80a23e377,"Copybara import of the project:

--
2ba7dc0ce15e297ad3b5a45a7b18cc61943bbb50 by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump urllib3 from 2.0.2 to 2.0.7 in /kokoro

Bumps [urllib3](https://github.com/urllib3/urllib3) from 2.0.2 to 2.0.7.
- [Release notes](https://github.com/urllib3/urllib3/releases)
- [Changelog](https://github.com/urllib3/urllib3/blob/main/CHANGES.rst)
- [Commits](https://github.com/urllib3/urllib3/compare/2.0.2...2.0.7)

---
updated-dependencies:
- dependency-name: urllib3
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 580830110
Change-Id: I0ec26be6cfe531277bbd7bf2463ef0366254c123",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-11-09 02:22:50-08:00,28800,2023-11-09 02:24:16-08:00,28800,True,False,['release_requirements.txt'],['367549a38e074053e51cae634abbe9b71aba7049'],3,3,6,1,,,
da5e25f9686607713eb315b38d832284d9dc1876,"Remove unused utility scripts

PiperOrigin-RevId: 581172134
Change-Id: If41705fe2722c9a563c89430aecd68ce61e25557",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-11-10 02:15:07-08:00,28800,2023-11-10 02:18:10-08:00,28800,True,False,"['install_python3.sh', 'upgrade_gcc.sh']",['df60d1e847d73cc3f0373adac08b6cd80a23e377'],96,0,96,2,,,
1ec991e8ca743aa326703db9d6df8d2fcec457cc,"Drop support for Python 3.7

Python 3.7 reached the end of life (https://www.python.org/downloads/release/python-370/). Furthermore, protobuf is also dropping support for Python 3.7 (https://github.com/protocolbuffers/protobuf/commit/c50e89217d36d0f48108b0576042da1e737140a2).

PiperOrigin-RevId: 581262220
Change-Id: I2c8b1f7a7212bb96e7c3a7603e069b789c58730b",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-11-10 08:06:22-08:00,28800,2023-11-10 08:07:45-08:00,28800,True,False,"['setup.py', 'build_linux_binary_wheels.sh', 'create_bdist.sh', 'test_linux_binary_wheel.sh']",['da5e25f9686607713eb315b38d832284d9dc1876'],23,36,59,4,0.5384615384615384,0.7692307692307693,0.8461538461538461
a05ca848ee43dd6e2101968be4eafd58f5dcdcb1,"Upgrade dependencies in .*requirements.txt files

Using:
```
pip-compile -U --generate-hashes \
  --output-file=examples/requirements.txt examples/requirements.in
pip-compile -U --generate-hashes \
  --output-file=requirements_all.txt setup.py \
  --extra all
pip-compile -U --generate-hashes --output-file=requirements.txt setup.py
pip-compile -U --generate-hashes \
  --output-file=kokoro/release_requirements.txt kokoro/release_requirements.in
pip-compile -U --generate-hashes \
  --output-file=tools/distribution/requirements.txt tools/distribution/requirements.in \
  --allow-unsafe
```
PiperOrigin-RevId: 582949979
Change-Id: Idcf10eb1ef1cffb64dc7c4f28f4d7c4a4fad273f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-11-16 01:28:16-08:00,28800,2023-11-16 01:30:01-08:00,28800,True,False,"['requirements.txt', 'release_requirements.txt', 'requirements.txt', 'requirements_all.txt', 'requirements.txt']",['1ec991e8ca743aa326703db9d6df8d2fcec457cc'],542,579,1121,5,,,
37cabb9e221c8cca18b0478650c9fa1bfc8025ed,"Upgrade tink-py dependencies

*   bazel@6.0.0 => bazel@6.4.0
*   bazel_skylib@1.4.2 => bazel_skylib@1.5.0
*   protobuf@21.9 => protobuf@25.1
*   tink-cc@2.0.0 => tink-cc@2.1.0
*   bazelisk@1.17.0 => bazelisk@1.19.0

PiperOrigin-RevId: 584893871
Change-Id: I4638277e87ca4a58d1197f52487870702a08cf34",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-11-23 08:05:06-08:00,28800,2023-11-23 08:17:23-08:00,28800,True,False,"['run_tests.sh', 'py_test_container_images.sh', 'tink_py_deps.bzl']",['a05ca848ee43dd6e2101968be4eafd58f5dcdcb1'],13,13,26,3,,,
b2b7663764dc19d953c97ee5d13cdbe335cc2250,"Add arm64 Docker image to py_test_container_images.sh

PiperOrigin-RevId: 585037210
Change-Id: Icd26d21d8c81c5eaf21c59b31b1165f8431244ad",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-11-24 02:15:49-08:00,28800,2023-11-24 02:16:26-08:00,28800,True,False,['py_test_container_images.sh'],['37cabb9e221c8cca18b0478650c9fa1bfc8025ed'],1,8,9,1,,,
20c0d46fcd8adc7dbf0cce016eef3bf8c7d385fa,"Test tink-py bdist on test Linux Docker containers

PiperOrigin-RevId: 585054890
Change-Id: Id3916d8b8de56b8a8e0126a35debaca674d187ec",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-11-24 03:51:35-08:00,28800,2023-11-24 03:52:17-08:00,28800,True,False,"['run.sh', 'test_dist.sh']",['b2b7663764dc19d953c97ee5d13cdbe335cc2250'],56,26,82,2,,,
fee20c67b83fe216cb7716710f34c31126ad3b57,"Bump tink-py version to 1.9.0

PiperOrigin-RevId: 585077089
Change-Id: I735f7138b13c0f6fd551fa25c5bd88fc08326706",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2023-11-24 06:06:25-08:00,28800,2023-11-24 06:07:11-08:00,28800,True,False,['VERSION'],['20c0d46fcd8adc7dbf0cce016eef3bf8c7d385fa'],1,1,2,1,,,
39edad2034d4ea6ca3ea6c56e8718783f1179cf1,"Deprecate KMS AEAD templates in Python.

PiperOrigin-RevId: 587985754
Change-Id: Ic77e3d57d1f68abba97a69dcc902520078092571",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-05 01:43:45-08:00,28800,2023-12-05 01:52:54-08:00,28800,True,False,"['_aead_key_templates.py', '_aead_key_templates_test.py']",['fee20c67b83fe216cb7716710f34c31126ad3b57'],5,19,24,2,0.4444444444444444,1.0,1.0
0b71c7dbf33c1b9a72eb8bc0a861ef855585fb71,"Fix type warnings in jwt_validator.py.

PiperOrigin-RevId: 588054573
Change-Id: Ic079a033cef657a5fd22cf36c929c4a820f6a571",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-05 06:46:04-08:00,28800,2023-12-05 06:47:24-08:00,28800,True,False,['_jwt_validator.py'],['39edad2034d4ea6ca3ea6c56e8718783f1179cf1'],3,3,6,1,,,
e3f5331c84ea57a7ac563b5cbc182f8a1058624b,"Fix type check warning in jwt tests in Python.

""rsa_key"" has two different types in two different if statements. It is better to use two different names.

PiperOrigin-RevId: 588317627
Change-Id: Idb9c3e08ef06a94fd89b25b1be89d4d20a75e166",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-06 00:11:54-08:00,28800,2023-12-06 00:14:12-08:00,28800,True,False,['_jwt_signature_wrappers_test.py'],['0b71c7dbf33c1b9a72eb8bc0a861ef855585fb71'],8,10,18,1,0.0,1.0,1.0
f88ab4899812449419b9b000c2e3d7ece925297b,"Copybara import of the project:

--
0b4b69d7cd7812d0e0d695d5a1dab74bfacac7de by dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>:

Bump cryptography from 41.0.5 to 41.0.6 in /kokoro

Bumps [cryptography](https://github.com/pyca/cryptography) from 41.0.5 to 41.0.6.
- [Changelog](https://github.com/pyca/cryptography/blob/main/CHANGELOG.rst)
- [Commits](https://github.com/pyca/cryptography/compare/41.0.5...41.0.6)

---
updated-dependencies:
- dependency-name: cryptography
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>
PiperOrigin-RevId: 590175024
Change-Id: I923aa095eb90f18a4be6924d4f628661a70235a7",dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Copybara-Service,copybara-worker@google.com,2023-12-12 06:01:26-08:00,28800,2023-12-12 06:04:06-08:00,28800,True,False,['release_requirements.txt'],['e3f5331c84ea57a7ac563b5cbc182f8a1058624b'],25,25,50,1,,,
9eded3d3ad223db699bbf626c18fdede2ab4b578,"Deprecate Json and Binary Keyset Reader and Writer in Python.

Users should use the functions in tink.proto_keyset_format and tink.json_proto_keyset_format instead.

PiperOrigin-RevId: 591829744
Change-Id: I1e3e84172a932a03b72b7e725cfcedd2719fe4ff",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-18 02:20:53-08:00,28800,2023-12-18 02:23:37-08:00,28800,True,False,"['_keyset_reader.py', '_keyset_writer.py']",['f88ab4899812449419b9b000c2e3d7ece925297b'],0,12,12,2,1.0,1.0,1.0
f31e85a8d9e58054d733df2743a1d2e9b486a087,"Add tests for encrypted keyset serialization overhead in go and Python.

PiperOrigin-RevId: 592127666
Change-Id: I54e187ed3c129170526581ce28e39ef29d7f331a",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-18 23:46:23-08:00,28800,2023-12-18 23:47:39-08:00,28800,True,False,['_proto_keyset_format_test.py'],['9eded3d3ad223db699bbf626c18fdede2ab4b578'],0,26,26,1,0.0,1.0,1.0
6f972502508e8dbb8c973f0677440f17435a9d4f,"Refactor secret_key_access.py.

Move the TOKEN into an internal-only module. Otherwise it can be accessed with ""tink.secret_key_access.TOKEN"" without explicitly importing it. Also, migrate
all tink-internal usages of secret_key_access.

PiperOrigin-RevId: 592129211
Change-Id: Ieb6e78385a00bd49daa225326639a9ae5fa989c8",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-18 23:54:11-08:00,28800,2023-12-18 23:54:49-08:00,28800,True,False,"['BUILD.bazel', '_insecure_keyset_handle.py', '_keyset_handle.py', '_secret_key_access.py', 'BUILD.bazel', '_jwk_set_converter.py', 'secret_key_access.py', 'secret_key_access_import_test.py']",['f31e85a8d9e58054d733df2743a1d2e9b486a087'],19,93,112,8,0.9166666666666666,0.9166666666666666,1.0
fc64da7531300e57bc788248b97ada14c26967a5,"Add tests for behavior of Tink under changing OutputPrefixType in the aead_dem key_template.

PiperOrigin-RevId: 592148069
Change-Id: I2bd8f846c6ed84c22f48635875b67d316fa2dbe7",Thomas Holenstein,tholenst@google.com,Copybara-Service,copybara-worker@google.com,2023-12-19 01:14:56-08:00,28800,2023-12-19 01:15:34-08:00,28800,True,False,['ecies_aead_hkdf.proto'],['6f972502508e8dbb8c973f0677440f17435a9d4f'],0,1,1,1,,,
43f77cc725b7e998ac677269286c02250fa262fb,"Rewrite comment in tink.proto.

PiperOrigin-RevId: 592182495
Change-Id: Ic51212aa62b1b135cd76a97d112a7cfde5ec365b",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-19 03:47:48-08:00,28800,2023-12-19 03:48:54-08:00,28800,True,False,['tink.proto'],['fc64da7531300e57bc788248b97ada14c26967a5'],1,1,2,1,,,
a1ffc640d18878ee5f76b42027eabe374dcaa6b1,"Add test vector to tink.proto_keyset_format test.

PiperOrigin-RevId: 592485980
Change-Id: I1b1013138efc3260a95e3e56ff85facfbb75ff2d",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-20 01:50:37-08:00,28800,2023-12-20 01:52:30-08:00,28800,True,False,"['BUILD.bazel', '_proto_keyset_format_test.py']",['43f77cc725b7e998ac677269286c02250fa262fb'],0,56,56,2,0.32558139534883723,1.0,1.0
ecdfe8a5ec75c9d7b7e6b1cf2b338ca72e154ed9,"Adding explicit type annotation to payload in _raw_jwt.py.

PiperOrigin-RevId: 592578414
Change-Id: Ie0fb1ea7c21def171bd2cd78609958fbea71c2c9",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2023-12-20 09:14:34-08:00,28800,2023-12-20 09:16:08-08:00,28800,True,False,['_raw_jwt.py'],['a1ffc640d18878ee5f76b42027eabe374dcaa6b1'],1,1,2,1,,,
4b9b6852f4e555cb16f0b76922a39b2ed54abc25,"Make sure test jobs on macOS run using Python 3.11.*

PiperOrigin-RevId: 595921286
Change-Id: I2b1d1c212000ccffc3fc9d13c7a524ad825d16d3",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2024-01-05 01:03:17-08:00,28800,2024-01-05 01:05:22-08:00,28800,True,False,"['run_tests.sh', 'run_tests.sh', 'create_bdist.sh']",['ecdfe8a5ec75c9d7b7e6b1cf2b338ca72e154ed9'],12,12,24,3,,,
b814bea41742fdf71a9745f44876ccce7cf19203,"Update requirements files for tink-py

PiperOrigin-RevId: 595940272
Change-Id: I9c90141d2c3efbfe7937dc659edd2208aa53d2c9",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2024-01-05 02:38:09-08:00,28800,2024-01-05 02:38:55-08:00,28800,True,False,"['release_requirements.txt', 'requirements_all.txt']",['4b9b6852f4e555cb16f0b76922a39b2ed54abc25'],2,6,8,2,,,
fb9b8e0f6e9af1251a0c2109a365bb0140d37a9c,"Add unit tests for GcpKmsAead.

PiperOrigin-RevId: 596621171
Change-Id: I771e4152e2fd3f4eb612c82cdbb39208376ca648",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2024-01-08 09:43:21-08:00,28800,2024-01-08 09:44:28-08:00,28800,True,False,"['BUILD.bazel', '_gcp_kms_aead_test.py']",['b814bea41742fdf71a9745f44876ccce7cf19203'],0,97,97,2,1.0,1.0,1.0
7fe0cbb6234ad9fe26d3b3795d828e437d365e3e,"Enable enable_platform_specific_config in .bazelrc

This will allow to more easily add flags specific to other paltforms

PiperOrigin-RevId: 596870614
Change-Id: I82747b27e40b2c8fa7001116c0da0fd5fed87da3",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2024-01-09 02:46:38-08:00,28800,2024-01-09 02:47:22-08:00,28800,True,False,['.bazelrc'],['fb9b8e0f6e9af1251a0c2109a365bb0140d37a9c'],1,3,4,1,,,
2fef8df08c4f28e193498f0af364e6337c58bcdd,"Refactor tink-py deps

 * Include all the deps used by the project in `tink_py_deps()`
 * Move test-only deps to `tink_py_testonly_deps()`
 * Upgrade tink-cc => 2.1.1

PiperOrigin-RevId: 596884445
Change-Id: Ie7609d4db1bb88b6557b5b8effb1384c2a3b2aa7",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2024-01-09 03:59:04-08:00,28800,2024-01-09 04:00:02-08:00,28800,True,False,"['WORKSPACE', 'WORKSPACE', 'tink_py_deps.bzl']",['7fe0cbb6234ad9fe26d3b3795d828e437d365e3e'],58,92,150,3,,,
4a4c2de3e9feb20649b9f51baa0277250aeb475c,"Let tink.BinaryKeysetWriter and tink.proto_keyset_format.serialize_encrypted not write KeysetInfo to encrypted keysets.

KeysetInfo is unused, Tink never reads it and doesn't offer an API to access it. This change makes the Python implementation of Tink consistent with the C++ implementation where this is never written. The same change has already been made in Golang in https://github.com/tink-crypto/tink-go/commit/a4348d319d5a35a9395a1059dbc46375f5ff9f16.

Note that the tink.JsonKeysetWriter and tink.json_proto_keyset_format.serialize_encrypted are unchanged and still do write KeysetInfo.

This change makes encrypted keyset considerably smaller: for example, the size of an encrypted keyset with a single AES 128 GCM key is reduced from 192 bytes to 122 bytes.

PiperOrigin-RevId: 596952398
Change-Id: I906fedb44fb926f5d7c4459dfb2976b9380188e2",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2024-01-09 09:10:07-08:00,28800,2024-01-09 09:11:11-08:00,28800,True,False,"['_keyset_writer.py', '_keyset_writer_test.py', '_proto_keyset_format_test.py']",['2fef8df08c4f28e193498f0af364e6337c58bcdd'],9,20,29,3,1.0,1.0,1.0
af9855b9c86fe21f9c148b4e26af308b18a909f5,"Set macOS compile options in bazelrc configs

Also simplify create_bdist.sh moving logic into setup.py

PiperOrigin-RevId: 596997758
Change-Id: I13a194f9adb0492bd9d970495eec398287d143aa",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2024-01-09 11:38:58-08:00,28800,2024-01-09 11:39:53-08:00,28800,True,False,"['.bazelrc', 'setup.py', 'create_bdist.sh']",['4a4c2de3e9feb20649b9f51baa0277250aeb475c'],64,51,115,3,0.9,1.0,1.0
84ac80ddfab9de53b0a4ae488cfff780303daf28,"Upgrade to Bazel 6.4.0

PiperOrigin-RevId: 597162108
Change-Id: I1668027bded6699f464edfa757476ed90e2b2e5c",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2024-01-10 00:19:02-08:00,28800,2024-01-10 00:20:04-08:00,28800,True,False,"['.bazelversion', '.bazelversion']",['af9855b9c86fe21f9c148b4e26af308b18a909f5'],2,2,4,2,,,
3105a9457c1ae510cb35e5614196ac7d022b2cdc,"Add KMS key format checking into the GcpKmaAead object creation. The key format is checked early during the GcpKmaAead object creation rather than by the RPC call.

PiperOrigin-RevId: 597860230
Change-Id: Ib451a45deae3230cae2574208a774666fcf43104",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2024-01-12 09:22:54-08:00,28800,2024-01-12 09:25:34-08:00,28800,True,False,"['_gcp_kms_aead_test.py', '_gcp_kms_client.py']",['84ac80ddfab9de53b0a4ae488cfff780303daf28'],6,59,65,2,1.0,1.0,0.375
34a483be2e4a14f357ef80b5a0c1e06738944ed6,"feat: Update GcpKmsClient unit tests.

PiperOrigin-RevId: 598601312
Change-Id: I6fd9847d19a83731b5e799b8a935c72822b88c70",Tink Team,tink-dev@google.com,Copybara-Service,copybara-worker@google.com,2024-01-15 06:56:56-08:00,28800,2024-01-15 06:58:39-08:00,28800,True,False,"['BUILD.bazel', '_gcp_kms_client_test.py']",['3105a9457c1ae510cb35e5614196ac7d022b2cdc'],30,107,137,2,1.0,1.0,0.7096774193548387
7bd3addab51fd20f88352d243a114f08770dfc9f,"Validate output prefix type in PRF primitive in Python.

All key that don't use output prefix type RAW will now fail. This makes the Python implementation consistent with other languages.

PiperOrigin-RevId: 599186946
Change-Id: I0f4c271f1bab23ef5c0df838b9783b0be9403afc",Juerg Wullschleger,juerg@google.com,Copybara-Service,copybara-worker@google.com,2024-01-17 08:45:12-08:00,28800,2024-01-17 08:46:24-08:00,28800,True,False,"['BUILD.bazel', '_prf_set_wrapper.py']",['34a483be2e4a14f357ef80b5a0c1e06738944ed6'],0,10,10,2,1.0,1.0,1.0
25c4edaa27b3003628b7c7bf2968598647d4cecc,"Enable Tink Python builds on MS Windows

 * Upgrade pybind11_bazel to v2.11.1.bzl.1
 * Add `genrule` to rename the generated `.so` file to `.pyd`
 * Remove `os.unlink` from `tink/integration/awskms/_aws_kms_client_test.py`; `delete` and `delete_on_close` are `True` by default and `os.unlink` causes an error on Windows [1]
 * Skip two tests in `tink/jwt/_raw_jwt_test.py` because the timestamp is too large for Windows (see [2] and [3]).

[1] https://docs.python.org/3/library/tempfile.html#tempfile.NamedTemporaryFile
[2] https://docs.python.org/3/library/datetime.html#datetime.date.fromtimestamp
[3] https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/localtime-localtime32-localtime64?view=msvc-170#return-value

PiperOrigin-RevId: 599526317
Change-Id: Ib8d51d953e61fbfc826e2d16fb494624d3847d9f",Moreno Ambrosin,ambrosin@google.com,Copybara-Service,copybara-worker@google.com,2024-01-18 09:10:51-08:00,28800,2024-01-18 09:11:48-08:00,28800,True,False,"['.bazelrc', 'run_tests.bat', 'BUILD.bazel', '_aws_kms_client_test.py', '_raw_jwt_test.py', 'BUILD.bazel']",['7bd3addab51fd20f88352d243a114f08770dfc9f'],26,68,94,6,0.5,0.0,0.0
